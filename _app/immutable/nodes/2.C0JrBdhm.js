var ba=Object.defineProperty;var jt=t=>{throw TypeError(t)};var ma=(t,e,l)=>e in t?ba(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ut=(t,e,l)=>ma(t,typeof e!="symbol"?e+"":e,l),pa=(t,e,l)=>e.has(t)||jt("Cannot "+l);var Dt=(t,e,l)=>(pa(t,e,"read from private field"),l?l.call(t):e.get(t)),Yt=(t,e,l)=>e.has(t)?jt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,l);import{a as C,t as G,c as Ze,n as ht}from"../chunks/disclose-version.DbuFNlvV.js";import{I as la,a4 as At,Z as xa,w as wa,l as ha,ap as ra,q as xe,A as Tt,B as ya,U as sa,a7 as Sa,a8 as Xt,O as kt,v as it,aq as bt,a5 as na,m as ia,a6 as Da,D as Ta,y as qt,ar as Rt,as as Jt,at as zt,au as ka,W as Ia,$ as Gt,av as Ea,S as Ma,aw as La,o as Aa,x as Ca,P as Oa,J as Pa,ax as Na,M as Ra,a9 as Ht,b as za,aa as Ft,e as Ye,ay as Ha,az as Fa,aA as Ba,aB as ja,aC as Ua,ao as q,g as a,X as g,a as Ya,p as ze,j as n,k as s,s as c,t as H,i as He,f as ie,aD as It,aE as Xa,h as ye,aF as Et,aG as Ke}from"../chunks/runtime.9m-lsYQL.js";import{d as vt,e as Ct,a as P}from"../chunks/store.BOjYO_LN.js";import{c as qa,a as Y,p as ae,i as we,b as pt,o as Ja}from"../chunks/index-client.Cx0j_tkv.js";import{i as Ga}from"../chunks/lifecycle.C2CUGHix.js";function Ve(t,e=!1){return mt(t,new Map)}function mt(t,e,l,r){if(typeof t=="object"&&t!==null){const o=e.get(t);if(o!==void 0)return o;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(la(t)){const d=[];e.set(t,d);for(let v=0;v<t.length;v+=1)d.push(mt(t[v],e));return d}if(At(t)===xa){const d={};e.set(t,d);for(var i in t)d[i]=mt(t[i],e);return d}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return mt(t.toJSON(),e)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let Mt=null;function be(t,e){return e}function Va(t,e,l,r){for(var i=[],o=e.length,d=0;d<o;d++)Ea(e[d].e,i,!0);var v=o>0&&i.length===0&&l!==null;if(v){var S=l.parentNode;Ma(S),S.append(l),r.clear(),Xe(t,e[0].prev,e[o-1].next)}La(i,()=>{for(var x=0;x<o;x++){var w=e[x];v||(r.delete(w.k),Xe(t,w.prev,w.next)),Aa(w.e,!v)}})}function fe(t,e,l,r,i,o=null){var d=t,v={flags:e,items:new Map,first:null},S=(e&ra)!==0;if(S){var x=t;d=xe?Tt(Ca(x)):x.appendChild(wa())}xe&&ya();var w=null,k=!1;ha(()=>{var _=l(),y=la(_)?_:_==null?[]:sa(_),f=y.length;if(k&&f===0)return;k=f===0;let j=!1;if(xe){var L=d.data===Sa;L!==(f===0)&&(d=Xt(),Tt(d),kt(!1),j=!0)}if(xe){for(var u=null,I,N=0;N<f;N++){if(it.nodeType===8&&it.data===Oa){d=it,j=!0,kt(!1);break}var h=y[N],D=r(h,N);I=oa(it,v,u,null,h,D,N,i,e),v.items.set(D,I),u=I}f>0&&Tt(Xt())}if(!xe){var V=Pa;Ka(y,v,d,i,e,(V.f&bt)!==0,r)}o!==null&&(f===0?w?na(w):w=ia(()=>o(d)):w!==null&&Da(w,()=>{w=null})),j&&kt(!0),l()}),xe&&(d=it)}function Ka(t,e,l,r,i,o,d){var R,J,$,ve;var v=(i&Na)!==0,S=(i&(Rt|zt))!==0,x=t.length,w=e.items,k=e.first,_=k,y,f=null,j,L=[],u=[],I,N,h,D;if(v)for(D=0;D<x;D+=1)I=t[D],N=d(I,D),h=w.get(N),h!==void 0&&((R=h.a)==null||R.measure(),(j??(j=new Set)).add(h));for(D=0;D<x;D+=1){if(I=t[D],N=d(I,D),h=w.get(N),h===void 0){var V=_?_.e.nodes_start:l;f=oa(V,e,f,f===null?e.first:f.next,I,N,D,r,i),w.set(N,f),L=[],u=[],_=f.next;continue}if(S&&Wa(h,I,D,i),h.e.f&bt&&(na(h.e),v&&((J=h.a)==null||J.unfix(),(j??(j=new Set)).delete(h))),h!==_){if(y!==void 0&&y.has(h)){if(L.length<u.length){var Z=u[0],X;f=Z.prev;var U=L[0],ce=L[L.length-1];for(X=0;X<L.length;X+=1)Vt(L[X],Z,l);for(X=0;X<u.length;X+=1)y.delete(u[X]);Xe(e,U.prev,ce.next),Xe(e,f,U),Xe(e,ce,Z),_=Z,f=ce,D-=1,L=[],u=[]}else y.delete(h),Vt(h,_,l),Xe(e,h.prev,h.next),Xe(e,h,f===null?e.first:f.next),Xe(e,f,h),f=h;continue}for(L=[],u=[];_!==null&&_.k!==N;)(o||!(_.e.f&bt))&&(y??(y=new Set)).add(_),u.push(_),_=_.next;if(_===null)continue;h=_}L.push(h),f=h,_=h.next}if(_!==null||y!==void 0){for(var K=y===void 0?[]:sa(y);_!==null;)(o||!(_.e.f&bt))&&K.push(_),_=_.next;var de=K.length;if(de>0){var M=i&ra&&x===0?l:null;if(v){for(D=0;D<de;D+=1)($=K[D].a)==null||$.measure();for(D=0;D<de;D+=1)(ve=K[D].a)==null||ve.fix()}Va(e,K,M,w)}}v&&Ta(()=>{var te;if(j!==void 0)for(h of j)(te=h.a)==null||te.apply()}),qt.first=e.first&&e.first.e,qt.last=f&&f.e}function Wa(t,e,l,r){r&Rt&&Jt(t.v,e),r&zt?Jt(t.i,l):t.i=l}function oa(t,e,l,r,i,o,d,v,S){var x=Mt;try{var w=(S&Rt)!==0,k=(S&ka)===0,_=w?k?Ia(i):Gt(i):i,y=S&zt?Gt(d):d,f={i:y,v:_,k:o,a:null,e:null,prev:l,next:r};return Mt=f,f.e=ia(()=>v(t,_,y),xe),f.e.prev=l&&l.e,f.e.next=r&&r.e,l===null?e.first=f:(l.next=f,l.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{Mt=x}}function Vt(t,e,l){for(var r=t.next?t.next.e.nodes_start:l,i=e?e.e.nodes_start:l,o=t.e.nodes_start;o!==r;){var d=Ra(o);i.before(o),o=d}}function Xe(t,e,l){e===null?t.first=l:(e.next=l,e.e.next=l&&l.e),l!==null&&(l.prev=e,l.e.prev=e&&e.e)}function Ot(t,e,l){Ht(()=>{var r=za(()=>e(t,l==null?void 0:l())||{});if(l&&(r!=null&&r.update)){var i=!1,o={};Ft(()=>{var d=l();Ye(d),i&&Ha(o,d)&&(o=d,r.update(d))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}let Kt=!1;function ca(){Kt||(Kt=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const l of t.target.elements)(e=l.__on_r)==null||e.call(l)})},{capture:!0}))}function Ie(t){if(xe){var e=!1,l=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;re(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;re(t,"checked",null),t.checked=i}}};t.__on_r=l,Fa(l),ca()}}function Za(t,e){var l=t.__attributes??(t.__attributes={});l.value===(l.value=e)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e)}function re(t,e,l,r){var i=t.__attributes??(t.__attributes={});xe&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=l)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Ba]=l),l==null?t.removeAttribute(e):typeof l!="string"&&Qa(t).includes(e)?t[e]=l:t.setAttribute(e,l))}var Wt=new Map;function Qa(t){var e=Wt.get(t.nodeName);if(e)return e;Wt.set(t.nodeName,e=[]);for(var l,r=At(t),i=Element.prototype;i!==r;){l=ja(r);for(var o in l)l[o].set&&e.push(o);r=At(r)}return e}function $a(t,e){var l=t.__className,r=da(e);xe&&t.getAttribute("class")===r?t.__className=r:(l!==r||xe&&t.getAttribute("class")!==r)&&(r===""?t.removeAttribute("class"):t.setAttribute("class",r),t.__className=r)}function Se(t,e){var l=t.__className,r=da(e);xe&&t.className===r?t.__className=r:(l!==r||xe&&t.className!==r)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function da(t){return t??""}function se(t,e,l){if(l){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function Bt(t,e,l,r=l){t.addEventListener(e,l);const i=t.__on_r;i?t.__on_r=()=>{i(),r()}:t.__on_r=r,ca()}function We(t,e,l=e){var r=Ua();Bt(t,"input",()=>{var i=Zt(t)?Qt(t.value):t.value;l(i),r&&i!==(i=e())&&(t.value=i??"")}),Ft(()=>{var i=e();if(xe&&t.defaultValue!==t.value){l(t.value);return}Zt(t)&&i===Qt(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Lt(t,e,l=e){Bt(t,"change",()=>{var r=t.checked;l(r)}),e()==null&&l(!1),Ft(()=>{var r=e();t.checked=!!r})}function Zt(t){var e=t.type;return e==="number"||e==="range"}function Qt(t){return t===""?null:+t}function va(t,e,l){if(t.multiple)return tl(t,e);for(var r of t.options){var i=ct(r);if(qa(i,e)){r.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function el(t,e){Ht(()=>{var l=new MutationObserver(()=>{var r=t.__value;va(t,r)});return l.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{l.disconnect()}})}function at(t,e,l=e){var r=!0;Bt(t,"change",()=>{var i;if(t.multiple)i=[].map.call(t.querySelectorAll(":checked"),ct);else{var o=t.querySelector(":checked");i=o&&ct(o)}l(i)}),Ht(()=>{var i=e();if(va(t,i,r),r&&i===void 0){var o=t.querySelector(":checked");o!==null&&(i=ct(o),l(i))}t.__value=i,r=!1}),el(t)}function tl(t,e){for(var l of t.options)l.selected=~e.indexOf(ct(l))}function ct(t){return"__value"in t?t.__value:t.value}const al=300,ll=4,rl="none";function sl(t){return Array.isArray(t)?t:[t]}function ot(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}function nl(t,e){return e.filter(l=>t.pointerId!==l.pointerId)}function _t(t,e,l,r,i){const o=t.getBoundingClientRect(),d=Math.round(l.clientX-o.left),v=Math.round(l.clientY-o.top);t.dispatchEvent(new CustomEvent(`${e}${i}`,{detail:{event:l,pointersCount:r.length,target:l.target,x:d,y:v}}))}function ua(t,e,l,r,i,o=rl){e.style.touchAction=sl(o).join(" ");let d=[];function v(x){d.push(x),_t(e,t,x,d,"down"),r==null||r(d,x);const w=x.pointerId;function k(u){w===u.pointerId&&(d=nl(u,d),d.length||_(),_t(e,t,u,d,"up"),i==null||i(d,u))}function _(){y(),f(),j(),L()}const y=ot(e,"pointermove",u=>{d=d.map(I=>u.pointerId===I.pointerId?u:I),_t(e,t,u,d,"move"),l==null||l(d,u)}),f=ot(e,"lostpointercapture",u=>{k(u)}),j=ot(e,"pointerup",u=>{k(u)}),L=ot(e,"pointerleave",u=>{d=[],_(),_t(e,t,u,d,"up"),i==null||i(d,u)})}const S=ot(e,"pointerdown",v);return{destroy:()=>{S()}}}function il(t,e){const l={composed:!1,timeframe:al,triggerBeforeFinished:!1,spread:ll,touchAction:"auto",...e};t.style.userSelect="none",t.oncontextmenu=L=>{L.preventDefault()};const r="press";let i,o,d;const v={x:0,y:0};let S,x=!1,w=!1;function k(L,u,I){if(Math.abs(L-o)<l.spread&&Math.abs(u-d)<l.spread&&Date.now()-i>l.timeframe){const N=t.getBoundingClientRect(),h=Math.round(L-N.left),D=Math.round(u-N.top);w=!0,t.dispatchEvent(new CustomEvent(r,{detail:{x:h,y:D,target:I.target,pointerType:I.pointerType}}))}}function _(L,u){clearTimeout(S),x||k(u.clientX,u.clientY,u)}function y(L,u){return v.x=u.clientX,v.y=u.clientY,w}function f(L,u){w=!1,o=u.clientX,d=u.clientY,i=Date.now(),x=!1,v.x=u.clientX,v.y=u.clientY,l.triggerBeforeFinished&&(S=setTimeout(()=>{x=!0,k(v.x,v.y,u)},l.timeframe+1))}const j=ua(r,t,y,f,_,l.touchAction);return l.composed?{onMove:y,onDown:f,onUp:_}:{destroy:()=>{j.destroy(),clearTimeout(S)}}}var dt;class ol{constructor(e,l){Yt(this,dt,q());Ut(this,"key","");this.key=e,this.value=l;{const r=localStorage.getItem(e);r&&(this.value=this.deserialize(r))}Ya(()=>{localStorage.setItem(this.key,this.serialize(this.value))})}get value(){return a(Dt(this,dt))}set value(e){g(Dt(this,dt),Y(e))}update(){{const e=localStorage.getItem(this.key);e&&(this.value=this.deserialize(e))}}serialize(e){return JSON.stringify(e)}deserialize(e){return JSON.parse(e)}}dt=new WeakMap;function xt(t,e){return new ol(t,e)}const cl=(t,e,l)=>{e(!e()),l.operatorLastIdUpdateFunc(new Date().toUTCString())};var dl=G('<div class="text-light bg-base-300 flex flex-initial flex-row justify-around space-x-1 rounded-sm px-1 shadow-xl"><div class="my-auto font-mono text-xl italic"> </div> <div class="my-auto font-mono text-xl"> </div></div>'),vl=(t,e,l,r)=>{a(e)?(l(),g(e,!1)):r()},ul=G('<div class="grid shrink-0 basis-1/3 grid-flow-row grid-cols-12 py-3"><div class="col-span-1 [text-orientation:sideways] [writing-mode:vertical-lr]"><div class="rotate-180 touch-manipulation text-center"><div class="flex flex-row items-center justify-center gap-3"><div class="inline-grid *:[grid-area:1/1]"><div></div></div> <p> </p></div></div></div> <div class="col-span-7 grid grid-flow-col grid-cols-2 grid-rows-3 gap-x-1 gap-y-1.5 overflow-hidden p-1"></div> <div class="col-span-4 mx-2 flex flex-col space-y-1"><div class="flex grow-10 flex-row gap-2"><button class="btn h-full grow text-lg"> </button></div> <button> </button></div></div>');function fl(t,e){ze(e,!0);let l=ae(e,"followRecorded",15),r=ae(e,"didID",15),i=ie(()=>e.buggies.length.valueOf()),o=ie(()=>!l()&&a(i)<Math.min(6,e.maxBuggies-e.prevFollowRecorded)),d=ie(()=>!l()&&e.prevFollowRecorded),v=q(!1),S=M=>{a(o)&&(e.buggies.push({time:new Date,number:e.buggies.length+1}),e.undoList.push(e.idx))},x=M=>{a(d)&&(e.buggies.push({time:new Date,number:"F"}),l(!0),e.undoList.push(e.idx))};const w=()=>{l()&&l(!1),e.buggies.pop()};let k=M=>{if(M.number=="1"||M.number=="F"){let R=M.time-e.startTime,J=R/1e3%60;return`@${(R/1e3-J)/60}:${String(Math.ceil(J)).padStart(2,"0")}`}else{let R=e.buggies[e.buggies.indexOf(M)-1],J=M.time-R.time,$=J/1e3%60;return`+${(J/1e3-$)/60}:${String(Math.floor($)).padStart(2,"0")}`}},_=M=>{let R=!1,J=!1,$=new Date;return e.config.value.operators.forEach(ve=>{if(ve.station==M){let te=Math.max(Math.floor(($-new Date(ve.lastId))/6e4),0);ve.isPrimary&&te>=12?R=!0:te>=12&&(J=!0)}}),R?"status-error":J?"status-warning":"status-success"},y=q(Y(_(e.name)));setTimeout(()=>g(y,Y(_(e.name))),6e4);var f=ul(),j=n(f),L=n(j),u=n(L),I=n(u),N=n(I);s(I);var h=c(I,2),D=n(h,!0);s(h),s(u),s(L),s(j);var V=c(j,2);fe(V,21,()=>e.buggies,M=>M.number,(M,R)=>{var J=dl(),$=n(J),ve=n($,!0);s($);var te=c($,2),ee=n(te,!0);H(()=>P(ee,k(a(R)))),s(te),s(J),H(()=>P(ve,a(R).number)),C(M,J)}),s(V);var Z=c(V,2),X=n(Z),U=n(X);U.__click=[vl,v,x,S];var ce=n(U);s(U),Ot(U,(M,R)=>il(M,R),()=>({timeframe:300,triggerBeforeFinished:!0})),s(X);var K=c(X,2);K.__click=[cl,r,e];var de=n(K,!0);return s(K),s(Z),s(f),H(()=>{Se(N,`status ${a(y)??""}`),P(D,e.name),U.disabled=!a(o)&&!a(d),se(U,"btn-primary",a(o)||a(d)),P(ce,`Record ${(a(o)&&!a(v)?e.buggies.length+1:"F")??""}`),Se(K,`btn ${(r()?"btn-success":"btn-secondary")??""} grow-1 text-xl`),se(K,"hidden",e.idHidden),P(de,r()?"ID'd":"ID?")}),Ct("press",U,()=>{g(v,!0)}),C(t,f),He({removeLastBuggy:w})}vt(["click"]);var gl=G('<div class="text-light bg-base-300 flex flex-initial flex-row justify-around space-x-1 rounded-sm px-1 shadow-xl"><div class="my-auto text-xl"> </div> <div class="my-auto font-mono text-xl"> </div></div>'),_l=G('<fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"> </legend> <div class="flex flex-row gap-2"></div></fieldset>');function bl(t,e){ze(e,!0);let l=(v,S,x)=>{if(v.number=="1"||v.number=="F"){let w=new Date(v.time)-e.startTime,k=w/1e3%60;return`@${(w/1e3-k)/60}:${String(Math.ceil(k)).padStart(2,"0")}`}else{let w=x[x.indexOf(v)-1],k=new Date(v.time)-new Date(w.time),_=k/1e3%60;return`+${(k/1e3-_)/60}:${String(Math.floor(_)).padStart(2,"0")}`}};var r=_l(),i=n(r),o=n(i,!0);s(i);var d=c(i,2);fe(d,21,()=>e.buggies,be,(v,S,x)=>{var w=gl(),k=n(w),_=n(k,!0);s(k);var y=c(k,2),f=n(y,!0);H(()=>P(f,l(a(S),x,e.buggies))),s(y),s(w),H(()=>P(_,a(S).number)),C(v,w)}),s(d),s(r),H(()=>P(o,e.name)),C(t,r),He()}function $t(t,e){e&&e!=="lg"&&e!=="sm"&&e!=="xs"?t.style.fontSize=e.replace("x","em"):t.style.fontSize=""}function ml(t,e,l,r,i,o=1,d="",v=""){let S=1,x=1;i&&(i=="horizontal"?S=-1:i=="vertical"?x=-1:S=x=-1),typeof t=="string"&&(t=parseFloat(t)),typeof e=="string"&&(e=parseFloat(e)),typeof l=="string"&&(l=parseFloat(l));const w=`${e*o}${d}`,k=`${l*o}${d}`;let _=`translate(${w},${k}) scale(${S*t},${x*t})`;return r&&(_+=` rotate(${r}${v})`),_}var pl=ht('<title class="svelte-bvo74f"> </title>'),xl=ht('<path class="svelte-bvo74f"></path>'),wl=ht('<path class="svelte-bvo74f"></path><path class="svelte-bvo74f"></path>',1),hl=ht('<svg aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-bvo74f"><g class="svelte-bvo74f"><!></g></g></svg>');function oe(t,e){ze(e,!1);const l=Et(),r=Et();let i=ae(e,"class",24,()=>{}),o=ae(e,"id",24,()=>{}),d=ae(e,"style",24,()=>{}),v=ae(e,"icon",8),S=ae(e,"title",24,()=>{}),x=ae(e,"size",24,()=>{}),w=ae(e,"color",24,()=>{}),k=ae(e,"fw",8,!1),_=ae(e,"pull",24,()=>{}),y=ae(e,"scale",8,1),f=ae(e,"translateX",8,0),j=ae(e,"translateY",8,0),L=ae(e,"rotate",24,()=>{}),u=ae(e,"flip",24,()=>{}),I=ae(e,"spin",8,!1),N=ae(e,"pulse",8,!1),h=ae(e,"primaryColor",8,""),D=ae(e,"secondaryColor",8,""),V=ae(e,"primaryOpacity",8,1),Z=ae(e,"secondaryOpacity",8,.4),X=ae(e,"swapOpacity",8,!1),U=Et();It(()=>(a(U),Ye(x()),$t),()=>{a(U)&&x()&&$t(a(U),x())}),It(()=>Ye(v()),()=>{g(l,v()&&v().icon||[0,0,"",[],""])}),It(()=>(Ye(y()),Ye(f()),Ye(j()),Ye(L()),Ye(u())),()=>{g(r,ml(y(),f(),j(),L(),u(),512))}),Xa(),Ga();var ce=Ze(),K=ye(ce);we(K,()=>a(l)[4],de=>{var M=hl(),R=n(M);we(R,S,te=>{var ee=pl(),ge=n(ee,!0);s(ee),H(()=>P(ge,S())),C(te,ee)});var J=c(R),$=n(J),ve=n($);we(ve,()=>typeof a(l)[4]=="string",te=>{var ee=xl();H(()=>{re(ee,"d",a(l)[4]),re(ee,"fill",w()||h()||"currentColor"),re(ee,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`)}),C(te,ee)},te=>{var ee=wl(),ge=ye(ee),_e=c(ge);H(()=>{re(ge,"d",a(l)[4][0]),re(ge,"fill",D()||w()||"currentColor"),re(ge,"fill-opacity",X()!=!1?V():Z()),re(ge,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`),re(_e,"d",a(l)[4][1]),re(_e,"fill",h()||w()||"currentColor"),re(_e,"fill-opacity",X()!=!1?Z():V()),re(_e,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`)}),C(te,ee)}),s($),s(J),s(M),pt(M,te=>g(U,te),()=>a(U)),H(()=>{re(M,"id",o()),$a(M,`svelte-fa svelte-fa-base ${i()??""} svelte-bvo74f`),re(M,"style",d()),re(M,"viewBox",`0 0 ${a(l)[0]??""} ${a(l)[1]??""}`),se(M,"pulse",N()),se(M,"svelte-fa-size-lg",x()==="lg"),se(M,"svelte-fa-size-sm",x()==="sm"),se(M,"svelte-fa-size-xs",x()==="xs"),se(M,"svelte-fa-fw",k()),se(M,"svelte-fa-pull-left",_()==="left"),se(M,"svelte-fa-pull-right",_()==="right"),se(M,"spin",I()),re(J,"transform",`translate(${a(l)[0]/2} ${a(l)[1]/2})`),re(J,"transform-origin",`${a(l)[0]/4} 0`),re($,"transform",a(r))}),C(de,M)}),C(t,ce),He()}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const yl={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},Sl={prefix:"fas",iconName:"sitemap",icon:[576,512,[],"f0e8","M208 80c0-26.5 21.5-48 48-48l64 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-8 0 0 40 152 0c30.9 0 56 25.1 56 56l0 32 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-32c0-4.4-3.6-8-8-8l-152 0 0 40 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-40-152 0c-4.4 0-8 3.6-8 8l0 32 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-32c0-30.9 25.1-56 56-56l152 0 0-40-8 0c-26.5 0-48-21.5-48-48l0-64z"]},wt={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},Dl={prefix:"fas",iconName:"id-badge",icon:[384,512,[],"f2c1","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zm96 320l64 0c44.2 0 80 35.8 80 80c0 8.8-7.2 16-16 16L96 416c-8.8 0-16-7.2-16-16c0-44.2 35.8-80 80-80zm-32-96a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM144 64l96 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-96 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Tl={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Pt={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Nt={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96l576 0c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96zm0 32L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-288L0 128zM64 405.3c0-29.5 23.9-53.3 53.3-53.3l117.3 0c29.5 0 53.3 23.9 53.3 53.3c0 5.9-4.8 10.7-10.7 10.7L74.7 416c-5.9 0-10.7-4.8-10.7-10.7zM176 192a64 64 0 1 1 0 128 64 64 0 1 1 0-128zm176 16c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},kl={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Il=kl,ea={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},El={prefix:"fas",iconName:"inbox",icon:[512,512,[],"f01c","M121 32C91.6 32 66 52 58.9 80.5L1.9 308.4C.6 313.5 0 318.7 0 323.9L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-92.1c0-5.2-.6-10.4-1.9-15.5l-57-227.9C446 52 420.4 32 391 32L121 32zm0 64l270 0 48 192-51.2 0c-12.1 0-23.2 6.8-28.6 17.7l-14.3 28.6c-5.4 10.8-16.5 17.7-28.6 17.7l-120.4 0c-12.1 0-23.2-6.8-28.6-17.7l-14.3-28.6c-5.4-10.8-16.5-17.7-28.6-17.7L73 288 121 96z"]},ta={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},fa={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Ml={prefix:"fas",iconName:"sign-hanging",icon:[512,512,["sign"],"f4d9","M96 0c17.7 0 32 14.3 32 32l0 32 352 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-352 0 0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352-32 0C14.3 128 0 113.7 0 96S14.3 64 32 64l32 0 0-32C64 14.3 78.3 0 96 0zm96 160l256 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32z"]},Ll=Ml,Al={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]};var Cl=(t,e)=>e.removeEntry(e.idx),Ol=G('<label id="org-select" class="fieldset-label text-base"> </label> <input type="text" class="input">',1),Pl=G('<fieldset class="fieldset bg-base-100 border-base-300 roundoed-box w-full border p-4"><legend class="fieldset-legend text-lg">Stop/Pause Notes</legend> <!></fieldset>'),Nl=G('<div class="card bg-base-300 my-2 flex flex-col p-4"><div class="flex w-full flex-row justify-between"><p class="badge badge-primary badge-xl"><!> </p> <p class="badge badge-secondary badge-xl"><!> </p> <p class="badge badge-info badge-xl"><!> </p> <button class="btn btn-warning btn-sm"><!></button></div> <!> <!></div>');function Rl(t,e){ze(e,!0);let l=Y(e.round);var r=Nl(),i=n(r),o=n(i),d=n(o);oe(d,{icon:Sl});var v=c(d,1,!0);s(o);var S=c(o,2),x=n(S);oe(x,{icon:Pt});const w=ie(()=>new Date(l.startTime).getHours().toString().padStart(2,"0")??""),k=ie(()=>new Date(l.startTime).getMinutes().toString().padStart(2,"0")??"");var _=c(x);H(()=>P(_,`${a(w)}:${a(k)}`)),s(S);var y=c(S,2),f=n(y);oe(f,{icon:Dl});var j=c(f,1,!0);s(y);var L=c(y,2);L.__click=[Cl,e];var u=n(L);oe(u,{icon:fa,scale:"1.5x"}),s(L),s(i);var I=c(i,2);fe(I,17,()=>l.buggies,be,(h,D)=>{var V=ie(()=>new Date(l.startTime));bl(h,{get name(){return a(D).name},get buggies(){return a(D).buggies},get startTime(){return a(V)}})});var N=c(I,2);we(N,()=>l.notes.length>0,h=>{var D=Pl(),V=c(n(D),2);fe(V,17,()=>l.notes,be,(Z,X)=>{var U=Ol(),ce=ye(U),K=n(ce);H(()=>P(K,`${(a(X).stopOrPause?"Stop":"Pause")??""} at ${new Date(a(X).time).toLocaleTimeString()??""}`)),s(ce);var de=c(ce,2);Ie(de),We(de,()=>a(X).info,M=>a(X).info=M),C(Z,U)}),s(D),C(h,D)}),s(r),H(()=>{P(v,l.team),P(j,l.didID?"Y":"N")}),C(t,r),He()}vt(["click"]);var zl=G('<div class="row-span-3 flex flex-col overflow-scroll"></div>');function Hl(t,e){ze(e,!0);let l=xt("buggy",[]);xt("config",[]);let r=d=>{let v=Ve(l.value);v.splice(v.length-1-d,1),l.value=v},i=(d,v)=>{l.value[d]=v};var o=zl();fe(o,21,()=>l.value.toReversed(),be,(d,v,S)=>{var x=ie(()=>l.value.length-S);Rl(d,{get round(){return l.value[S]},get idx(){return a(x)},removeEntry:r,updateEntry:i})}),s(o),C(t,o),He()}var Fl=(t,e)=>e(),Bl=(t,e,l,r)=>e(a(l),r),jl=G("<option> </option>"),Ul=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><span class="text-xl"> </span> <div class="flex w-1/3 flex-row justify-between"><button class="btn btn-sm btn-info min-w-[1rem]"><!></button> <button class="btn btn-sm btn-info color-white"><!></button></div></div></div>'),Yl=(t,e,l,r)=>e(a(l),r),Xl=G("<option> </option>"),ql=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><span class="text-xl"> </span> <div class="flex w-1/3 flex-row justify-between"><button class="btn btn-sm btn-info min-w-[1rem]"><!></button> <button class="btn btn-sm btn-info color-white"><!></button></div></div></div>'),Jl=G("<option> </option>"),Gl=(t,e,l,r,i,o)=>{a(e).length>0&&a(l).length>0&&a(r).length>0&&(i.push({name:a(e),callsign:a(l),lastId:new Date().toUTCString(),station:a(r),isPrimary:a(o)}),g(e,""),g(l,""),g(r,""),g(o,!1))},Vl=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-2/3 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <div class="flex h-full w-1/3 flex-col justify-between gap-1"><button class="btn btn-xs btn-error min-w-[1rem] grow-1"><!></button> <button class="btn btn-sm btn-info grow-2"><!></button></div></div></div>'),Kl=G("<option> </option>"),Wl=(t,e,l,r,i,o,d,v)=>{e[a(l)]={name:a(r),callsign:a(i),station:a(o),lastId:a(d).lastId,isPrimary:a(v)},g(r,""),g(i,""),g(o,""),g(v,!1)},Zl=G("<option> </option>"),Ql=G('<div class="row-span-3 flex flex-col overflow-scroll"><div class="mx-auto w-7/8"><button class="btn btn-primary btn-block mt-4 w-full text-xl">Save</button> <div role="alert" class="alert alert-error mt-2 mb-1 py-1"><!> <span class="text-lg"> </span></div> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Teams</legend> <label id="org-select" class="fieldset-label text-base">Select Orgs</label> <select id="org-select" class="select select-lg" multiple></select> <label id="org-select" class="fieldset-label text-base">Set Roll Order</label> <div class="flex flex-col gap-2"></div></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Stations</legend> <label id="org-select" class="fieldset-label text-base">Select Stations</label> <select id="org-select" class="select select-lg" multiple></select> <label id="org-select" class="fieldset-label text-base">Set Station Order</label> <div class="flex flex-col gap-2"></div></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Operators</legend> <fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Add Operator</legend> <label id="org-select" class="fieldset-label text-base">Operator Name</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Operator Callsign</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Select Station</label> <select class="select"><!><option>Rover</option></select> <label class="fieldset-label text-base">Should be primary? <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <button class="btn btn-secondary btn-block">Save Operator</button></fieldset> <label id="org-select" class="fieldset-label text-base">Assign Operators</label> <div class="flex flex-col gap-2"></div> <dialog class="modal"><div class="modal-box"><fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Edit Operator</legend> <label id="org-select" class="fieldset-label text-base">Operator Name</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Operator Callsign</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Select Station</label> <select class="select"></select> <label class="fieldset-label text-base">Should be primary? <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <form method="dialog"><button class="btn btn-secondary btn-block">Save Operator</button></form></fieldset></div></dialog></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Misc</legend> <label class="fieldset-label text-lg">Flip Handedness <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <label class="fieldset-label text-base">Select Theme</label> <select class="select select-lg"><option selected>default</option><!></select> <label class="fieldset-label text-base">Export Password</label> <input type="text" class="input"></fieldset></div></div>');function $l(t,e){ze(e,!0);let l=ae(e,"config",7),r=ae(e,"selectedTheme",15),i=q(Y(l().value.teams)),o=Y(l().value.teams),d=q(Y(l().value.stations)),v=Y(l().value.stations),S=q(!1),x=Y(l().value.operators),w=q(Y(l().value.exportPassword)),k=q(""),_=q(""),y=q(""),f=q(!1),j=q(void 0),L=q(void 0),u=q(void 0),I=q(""),N=["AEPi","Apex","Atlas","CIA","DG","Fringe","PiKA","Robobuggy","SAE","SDC","SigEp","SigNu","Spirit"],h=["Net","Panther","Chute","Start","Finish","Broadcast","TV","Westinghouse","Monument","Scaife","Chair Shadow","Safety Shadow"],D=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autum","business","acid","lemonade","night","coffee","winter","dim","nord","sunset","caramellatte","abyss","silk"];function V(m,b,p){for(;b<0;)b+=m.length;for(;p<0;)p+=m.length;if(p>=m.length)for(var z=p-m.length+1;(z-=1)+1;)m.push(void 0);return m.splice(p,0,m.splice(b,1)[0]),m}function Z(m,b){V(m,b,Math.max(b-1,0))}function X(m,b){V(m,b,Math.min(b+1,m.length-1))}function U(m,b){b.forEach(p=>{m.includes(p)||b.splice(b.indexOf(p),1)}),m.forEach(p=>{b.includes(p)||b.push(p)})}async function ce(){let m=!0;if(v.forEach(b=>{let p=!1;x.forEach(z=>{z.station==b&&z.isPrimary&&(p=!0)}),m=m&&p}),m){l().value.teams=o,l().value.stations=v,l().value.operators=x,l().value.theme=r(),l().value.handedness=a(S),l().value.exportPassword=a(w),g(I,"");let b=new Date,p={sheetId:"Rolls "+(b.getMonth()+1).toString()+"_"+b.getDate().toString()};try{const z=await fetch("https://buggyapp.kandasamyc.com/createSheet",{method:"POST",headers:{"Auth-Code":l().value.exportPassword},body:JSON.stringify(p)})}catch{console.log("Post error")}}else g(I,"All stations need primary operator")}var K=Ql(),de=n(K),M=n(de);M.__click=[Fl,ce];var R=c(M,2),J=n(R);oe(J,{icon:Al});var $=c(J,2),ve=n($,!0);s($),s(R);var te=c(R,2),ee=c(n(te),4);ee.__change=[Bl,U,i,o],fe(ee,21,()=>N,be,(m,b)=>{var p=jl(),z={},ue=n(p,!0);s(p),H(()=>{re(p,"id",a(b)),z!==(z=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),P(ue,a(b))}),C(m,p)}),s(ee);var ge=c(ee,4);fe(ge,21,()=>o,be,(m,b,p)=>{var z=Ul(),ue=n(z),T=n(ue),E=n(T,!0);s(T);var A=c(T,2),F=n(A);F.__click=()=>Z(o,p);var B=n(F);oe(B,{icon:ta,scale:1.2,class:"bg-light"}),s(F);var O=c(F,2);O.__click=()=>X(o,p);var W=n(O);oe(W,{icon:ea,scale:1.2,class:"bg-light"}),s(O),s(A),s(ue),s(z),H(()=>P(E,a(b))),C(m,z)}),s(ge),s(te);var _e=c(te,2),me=c(n(_e),4);me.__change=[Yl,U,d,v],fe(me,21,()=>h,be,(m,b)=>{var p=Xl(),z={},ue=n(p,!0);s(p),H(()=>{re(p,"id",a(b)),z!==(z=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),P(ue,a(b))}),C(m,p)}),s(me);var Ee=c(me,4);fe(Ee,21,()=>v,be,(m,b,p)=>{var z=ql(),ue=n(z),T=n(ue),E=n(T,!0);s(T);var A=c(T,2),F=n(A);F.__click=()=>Z(v,p);var B=n(F);oe(B,{icon:ta,scale:1.2,class:"bg-light"}),s(F);var O=c(F,2);O.__click=()=>X(v,p);var W=n(O);oe(W,{icon:ea,scale:1.2,class:"bg-light"}),s(O),s(A),s(ue),s(z),H(()=>P(E,a(b))),C(m,z)}),s(Ee),s(_e);var Oe=c(_e,2),Me=c(n(Oe),2),Le=c(n(Me),4);Ie(Le);var De=c(Le,4);Ie(De);var Pe=c(De,4),Qe=n(Pe);fe(Qe,17,()=>v,be,(m,b)=>{var p=Jl(),z={},ue=n(p,!0);s(p),H(()=>{re(p,"id",a(b)),z!==(z=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),P(ue,a(b))}),C(m,p)}),Ke(),s(Pe);var qe=c(Pe,2),Te=c(n(qe));Ie(Te),s(qe);var $e=c(qe,2);$e.__click=[Gl,k,_,y,x,f],s(Me);var Fe=c(Me,4);fe(Fe,21,()=>x,be,(m,b,p)=>{var z=Vl(),ue=n(z),T=n(ue),E=n(T),A=n(E),F=ie(()=>`w-1/8  ${(a(b).isPrimary?"text-info":"")??""}`);oe(A,{icon:wt,get class(){return a(F)}});var B=c(A,2),O=n(B,!0);s(B),s(E);var W=c(E,2),Q=n(W);oe(Q,{icon:Nt,class:"w-1/8"});var le=c(Q,2),he=n(le,!0);s(le),s(W);var ke=c(W,2),pe=n(ke);oe(pe,{icon:Ll,class:"w-1/8"});var ne=c(pe,2),Ce=n(ne,!0);s(ne),s(ke),s(T);var Re=c(T,2),gt=n(Re);gt.__click=()=>x.splice(p,1);var ga=n(gt);oe(ga,{icon:fa,scale:1.2}),s(gt);var St=c(gt,2);St.__click=()=>{g(L,Y(a(b))),g(k,Y(a(L).name)),g(_,Y(a(L).callsign)),g(y,Y(a(L).station)),g(f,Y(a(L).isPrimary)),g(u,Y(p)),a(j).showModal()};var _a=n(St);oe(_a,{icon:yl,scale:1.2}),s(St),s(Re),s(ue),s(z),H(()=>{P(O,a(b).name),P(he,a(b).callsign),P(Ce,a(b).station)}),C(m,z)}),s(Fe);var Je=c(Fe,2),Ge=n(Je),Ne=n(Ge),lt=c(n(Ne),4);Ie(lt);var Be=c(lt,4);Ie(Be);var et=c(Be,4);fe(et,21,()=>v,be,(m,b)=>{var p=Kl(),z={},ue=n(p,!0);s(p),H(()=>{re(p,"id",a(b)),z!==(z=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),P(ue,a(b))}),C(m,p)}),s(et);var je=c(et,2),ut=c(n(je));Ie(ut),s(je);var tt=c(je,2),ft=n(tt);ft.__click=[Wl,x,u,k,_,y,L,f],s(tt),s(Ne),s(Ge),s(Je),pt(Je,m=>g(j,m),()=>a(j)),s(Oe);var rt=c(Oe,2),st=c(n(rt),2),nt=c(n(st));Ie(nt),s(st);var Ae=c(st,4),yt=c(n(Ae));fe(yt,17,()=>D,be,(m,b)=>{var p=Zl(),z={},ue=n(p,!0);s(p),H(()=>{re(p,"id",a(b)),z!==(z=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),P(ue,a(b))}),C(m,p)}),s(Ae);var Ue=c(Ae,4);Ie(Ue),s(rt),s(de),s(K),H(()=>{se(R,"hidden",a(I).length==0),P(ve,a(I)),Te.disabled=a(y)=="Rover"}),at(ee,()=>a(i),m=>g(i,m)),at(me,()=>a(d),m=>g(d,m)),We(Le,()=>a(k),m=>g(k,m)),We(De,()=>a(_),m=>g(_,m)),at(Pe,()=>a(y),m=>g(y,m)),Lt(Te,()=>a(f),m=>g(f,m)),We(lt,()=>a(k),m=>g(k,m)),We(Be,()=>a(_),m=>g(_,m)),at(et,()=>a(y),m=>g(y,m)),Lt(ut,()=>a(f),m=>g(f,m)),Lt(nt,()=>a(S),m=>g(S,m)),at(Ae,r),We(Ue,()=>a(w),m=>g(w,m)),C(t,K),He()}vt(["click","change"]);var er=G("<div></div>"),tr=(t,e)=>e.idFunc(e.idx),ar=G('<div class="flex h-full w-1/2 flex-col justify-between gap-1"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><!> <div></div></div> <span class=" text-base"> </span></div> <button>ID</button></div>');function aa(t,e){ze(e,!0);let l=q(Y(new Date)),r=ie(()=>Math.max(Math.floor((a(l)-new Date(e.lastId))/6e4),0)),i=8,o=12;setTimeout(()=>g(l,Y(new Date)),6e4);var d=ar(),v=n(d),S=n(v),x=n(S);we(x,()=>a(r)>=i,f=>{var j=er();H(()=>Se(j,`status ${(a(r)>=o?"status-error":a(r)>=i?"status-warning":"status-success")??""} animate-ping`)),C(f,j)});var w=c(x,2);s(S);var k=c(S,2),_=n(k);s(k),s(v);var y=c(v,2);y.__click=[tr,e],s(d),H(()=>{Se(w,`status ${(a(r)>=o?"status-error":a(r)>=i?"status-warning":"status-success")??""}`),P(_,`ID'd ${a(r)??""}m ago`),Se(y,`btn btn-block btn-lg mb-1 grow-1 ${(a(r)>=i?"btn-primary":"btn-secondary")??""}`)}),C(t,d),He()}vt(["click"]);var lr=G("<div></div>"),rr=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-1/2 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <!></div></div>'),sr=G('<fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><!> <div></div></div> <span class=" text-base"> </span></div></legend> <label class="fieldset-label text-base">Individual Statuses</label> <div class="flex flex-col gap-2"></div></fieldset>'),nr=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-1/2 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <!></div></div>'),ir=G('<div class="row-span-3 flex flex-col overflow-scroll"><div class="mx-auto w-7/8"><!> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><div></div> <div></div></div> <span class=" text-base">Rover Operators</span></div></legend> <label class="fieldset-label text-base">Individual Statuses</label> <div class="flex flex-col gap-2"></div></fieldset></div></div>');function or(t,e){ze(e,!0);let l=ae(e,"config",7),r=u=>{l().value.operators[u].lastId=new Date().toUTCString()},i=u=>{let I=!1,N=!1,h=new Date;return l().value.operators.forEach(D=>{if(D.station==u){let V=Math.max(Math.floor((h-new Date(D.lastId))/6e4),0);D.isPrimary&&V>=12?I=!0:V>=12&&(N=!0)}}),I?"status-error":N?"status-warning":"status-success"},o=ie(()=>l().value.stations.map(i)),d=ie(()=>i("Rover"));var v=ir(),S=n(v),x=n(S);fe(x,17,()=>l().value.stations,be,(u,I,N)=>{var h=sr(),D=n(h),V=n(D),Z=n(V),X=n(Z);we(X,()=>a(o)[N]=="status-error",M=>{var R=lr();H(()=>Se(R,`status ${a(o)[N]??""} animate-ping`)),C(M,R)});var U=c(X,2);s(Z);var ce=c(Z,2),K=n(ce);s(ce),s(V),s(D);var de=c(D,4);fe(de,21,()=>l().value.operators,be,(M,R,J)=>{var $=Ze(),ve=ye($);we(ve,()=>a(R).station==a(I),te=>{var ee=rr(),ge=n(ee),_e=n(ge),me=n(_e),Ee=n(me),Oe=ie(()=>`w-1/8 ${(a(R).isPrimary?"text-info":"")??""}`);oe(Ee,{icon:wt,get class(){return a(Oe)}});var Me=c(Ee,2),Le=n(Me,!0);s(Me),s(me);var De=c(me,2),Pe=n(De);oe(Pe,{icon:Nt,class:"w-1/8"});var Qe=c(Pe,2),qe=n(Qe,!0);s(Qe),s(De);var Te=c(De,2),$e=n(Te);oe($e,{icon:Pt,class:"w-1/8"});var Fe=c($e,2),Je=n(Fe,!0);H(()=>P(Je,new Date(a(R).lastId).toLocaleTimeString())),s(Fe),s(Te),s(_e);var Ge=c(_e,2);aa(Ge,{get lastId(){return a(R).lastId},idx:J,idFunc:r}),s(ge),s(ee),H(()=>{P(Le,a(R).name),P(qe,a(R).callsign)}),C(te,ee)}),C(M,$)}),s(de),s(h),H(()=>{Se(U,`status ${a(o)[N]??""}`),P(K,`${a(I)??""} Operators`)}),C(u,h)});var w=c(x,2),k=n(w),_=n(k),y=n(_),f=n(y),j=c(f,2);s(y),Ke(2),s(_),s(k);var L=c(k,4);fe(L,21,()=>l().value.operators,be,(u,I,N)=>{var h=Ze(),D=ye(h);we(D,()=>a(I).station=="Rover",V=>{var Z=nr(),X=n(Z),U=n(X),ce=n(U),K=n(ce),de=ie(()=>`w-1/8 ${(a(I).isPrimary?"text-info":"")??""}`);oe(K,{icon:wt,get class(){return a(de)}});var M=c(K,2),R=n(M,!0);s(M),s(ce);var J=c(ce,2),$=n(J);oe($,{icon:Nt,class:"w-1/8"});var ve=c($,2),te=n(ve,!0);s(ve),s(J);var ee=c(J,2),ge=n(ee);oe(ge,{icon:Pt,class:"w-1/8"});var _e=c(ge,2),me=n(_e,!0);H(()=>P(me,new Date(a(I).lastId).toLocaleTimeString())),s(_e),s(ee),s(U);var Ee=c(U,2);aa(Ee,{get lastId(){return a(I).lastId},idx:N,idFunc:r}),s(X),s(Z),H(()=>{P(R,a(I).name),P(te,a(I).callsign)}),C(V,Z)}),C(u,h)}),s(L),s(w),s(S),s(v),H(()=>{Se(f,`status ${a(d)??""} animate-ping`),Se(j,`status ${a(d)??""}`)}),C(t,v),He()}var cr=G('<option class="p-1 text-sm"> </option>'),dr=G('<button class="btn btn-error h-full text-xl">Are you sure?</button>'),vr=(t,e)=>{g(e,!0),setTimeout(()=>g(e,!1),2e3)},ur=G('<button class="btn btn-warning h-full text-xl">Clear Data</button>'),fr=G("<button>Copy Data To Clipboard</button> <button>Export Data</button> <!>",1),gr=G('<button class="btn btn-warning h-full text-xl"> </button> <button class="btn h-full text-xl"> </button> <button class="btn btn-secondary h-full text-xl"> </button>',1),_r=G('<label id="org-select" class="fieldset-label text-base"> </label> <input type="text" class="input">',1),br=(t,e)=>g(e,0),mr=(t,e)=>g(e,1),pr=(t,e)=>g(e,2),xr=(t,e)=>g(e,3),wr=G('<input type="radio" name="theme-dropdown" class="theme-controller btn btn-sm btn-block btn-ghost hidden w-full justify-start" checked> <div class="h-svh w-full px-2 py-2"><div class="grid h-full grid-flow-col grid-rows-12 gap-0 text-2xl"><div id="header-row" class="row-span-1 grid grid-flow-col grid-cols-3 grid-rows-4 gap-x-3"><select class="bg-base-300 form-select col-span-1 row-span-4 h-full w-full rounded-md border-0 text-lg"></select> <p class="col-span-1 col-start-2 row-span-2 row-start-1 text-center text-lg"> </p> <p class="col-span-1 col-start-2 row-span-2 row-start-3 rounded-md py-0.5 text-center text-lg"> </p> <div class="col-span-1 col-start-3 row-span-4 mr-2"><button class="btn h-full w-full touch-manipulation text-lg"> </button></div></div> <div id="content-row"><!></div> <div id="settings-row"><!></div> <dialog class="modal"><div class="modal-box"><fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Stop/Pause Notes</legend> <!> <form method="dialog"><button class="btn btn-secondary btn-block">Close</button></form></fieldset></div></dialog></div> <div class="dock bg-base-300 max-h-1/11 pt-0.5"><button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Settings</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Home</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Data</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Operators</span></button></div></div>',1);function Ir(t,e){ze(e,!0);let l=xt("buggy",[]),r=xt("config",{stations:[],teams:[],operators:[],theme:"dark",handedness:"right",nextIDRoundTime:new Date().toUTCString(),startTime:new Date().toUTCString()}),i=q(Y(r.value.theme)),o=q(1),d=q(void 0),v=q(0),S=q(Y([])),x=ie(()=>new Date(r.value.nextIDRoundTime)),w=ie(()=>new Date(r.value.startTime)),k=q(!0),_=!1,y=q(!1),f=q(!1),j=q(!1),L=q(!1),u=q(!1),I=q(Y(r.value.stations.map(T=>({name:T,buggies:[],followCarSeen:!1})))),N=Y([]),h=q(Y(r.value.stations.map(()=>!1))),D=q(!1),V=ie(()=>r.value.teams),Z=q(!1),X=q(!1),U=Y([]),ce=ie(()=>r.value.exportPassword!=""),K=q(Y(r.value.teams.length>0?r.value.teams[0]:"N/A")),de=T=>E=>{r.value.operators=r.value.operators.map(A=>(A.station==T&&A.isPrimary&&(A.lastId=E),A))},M=()=>{let T=new Date;r.value.nextIDRoundTime=new Date(T.getTime()+10*6e4).toUTCString(),g(k,!a(k))};Ja(()=>{const T=setInterval(()=>{(new Date-a(x))/6e4>10&&(g(D,!0),g(k,!1))},3e4);return()=>clearInterval(T)});let R=T=>{let E={buggies:Ve(a(I)),team:Ve(a(K)),startTime:Ve(a(w)),notes:Ve(N),didId:!1};if(a(h).forEach(A=>{A&&(E.didId=!0)}),T){g(K,Y(a(V)[(a(V).indexOf(a(K))+1)%a(V).length]));let A=Ve(l.value);A.push(E),l.value=A}g(I,Y(r.value.stations.map(A=>({name:A,buggies:[],followCarSeen:!1})))),g(h,Y(r.value.stations.map(()=>!1)))};async function J(){try{await navigator.clipboard.writeText(JSON.stringify(Ve(l.value),null,4)),g(f,!0),g(j,!1)}catch(T){console.error(T.message),g(f,!0),g(j,!0),setInterval(()=>{g(f,!1),g(j,!1)},1500)}}function $(T,E={timeframe:300}){const A="tapOrPress";let B=!1,O,W,Q,le=!1;function he(Ce){T.dispatchEvent(new CustomEvent(A,{detail:{newState:Ce}}))}function ke(Ce,Re){clearTimeout(Q),B&&E.handler(le),B=!1,le=!1,he(!1)}function pe(Ce,Re){return B&&O*O+W*W>=20&&(B=!1),!1}function ne(Ce,Re){B||(B=!0,O=Re.clientX,W=Re.clientY),Q=setTimeout(()=>{le=!0,he(!0)},E.timeframe)}return ua(A,T,pe,ne,ke)}let ve=T=>{T?R(!1):a(S).length>0?U[a(S).pop()].removeLastBuggy():console.log("empty")},te=T=>{},ee=(T,E,A)=>{if(E.number=="1"||E.number=="F"){let F=new Date(E.time)-T,B=F/1e3%60;return`@${(F/1e3-B)/60}:${String(Math.ceil(B)).padStart(2,"0")}`}else{let F=A[A.indexOf(E)-1],B=new Date(E.time)-new Date(F.time),O=B/1e3%60;return`+${(B/1e3-O)/60}:${String(Math.floor(O)).padStart(2,"0")}`}},ge=async()=>{let E=[["Position","Call","Name"]].concat(r.value.operators.map(Q=>[Q.station+(Q.isPrimary?" (Primary)":""),Q.callsign,Q.name])),A=[["Buggy"].concat(r.value.stations)],F=r.value.stations.map(()=>""),B=l.value.reduce((Q,le)=>{let he=[[new Date(le.startTime).toLocaleTimeString(),"@",le.team]],ke=le.buggies[0].buggies.map(pe=>[pe.number].concat(F));return le.buggies.forEach((pe,ne)=>{new Date(pe.buggies[0].time),pe.buggies.forEach((Ce,Re)=>{ke[Re][ne+1]=ee(new Date(le.startTime),Ce,pe.buggies)})}),Q.concat(he.concat(A).concat(ke))},[]),O=new Date,W={data:E.concat([[]].concat(B)),sheetId:"Rolls "+(O.getMonth()+1).toString()+"_"+O.getDate().toString()};g(L,!0);try{(await fetch("https://buggyapp.kandasamyc.com/updateData",{method:"POST",headers:{"Auth-Code":r.value.exportPassword},body:JSON.stringify(W)})).ok?g(u,!1):g(u,!0)}catch{g(u,!0)}};var _e=wr(),me=ye(_e);Ie(me);var Ee=c(me,2),Oe=n(Ee),Me=n(Oe),Le=n(Me);fe(Le,21,()=>a(V),be,(T,E)=>{var A=cr(),F={},B=n(A,!0);s(A),H(()=>{F!==(F=a(E))&&(A.value=(A.__value=a(E))==null?"":a(E)),P(B,a(E))}),C(T,A)}),s(Le);var De=c(Le,2);const Pe=ie(()=>a(w).getHours().toString().padStart(2,"0")??""),Qe=ie(()=>a(w).getMinutes().toString().padStart(2,"0")??"");var qe=n(De);H(()=>P(qe,`Start At: ${a(Pe)}:${a(Qe)}`)),s(De);var Te=c(De,2);const $e=ie(()=>a(x).getHours().toString().padStart(2,"0")??""),Fe=ie(()=>a(x).getMinutes().toString().padStart(2,"0")??"");var Je=n(Te);H(()=>P(Je,`Next ID: ${a($e)}:${a(Fe)}`)),s(Te);var Ge=c(Te,2),Ne=n(Ge),lt=n(Ne,!0);s(Ne),Ot(Ne,(T,E)=>$(T,E),()=>({handler:ve,timeframe:300})),s(Ge),s(Me);var Be=c(Me,2),et=n(Be);we(et,()=>a(o)==2,T=>{Hl(T,{get exportError(){return a(u)},set exportError(E){g(u,Y(E))},get exportSubmitted(){return a(L)},set exportSubmitted(E){g(L,Y(E))}})},T=>{var E=Ze(),A=ye(E);we(A,()=>a(o)==1,F=>{var B=Ze(),O=ye(B);fe(O,17,()=>a(I),be,(W,Q,le)=>{var he=ie(()=>a(v)!=0?le==0?6:a(I)[le-1].buggies.length:0),ke=ie(()=>a(v)!=0?le>0?a(I)[le-1].followCarSeen:!0:!1),pe=ie(()=>de(r.value.stations[le]));pt(fl(W,{get name(){return r.value.stations[le]},get buggies(){return a(Q).buggies},set buggies(ne){a(Q).buggies=ne},get idHidden(){return a(k)},get maxBuggies(){return a(he)},get startTime(){return a(w)},get followRecorded(){return a(Q).followCarSeen},set followRecorded(ne){a(Q).followCarSeen=ne},get prevFollowRecorded(){return a(ke)},get didID(){return a(h)[le]},set didID(ne){a(h)[le]=ne},get operatorLastIdUpdateFunc(){return a(pe)},get undoList(){return a(S)},set undoList(ne){g(S,Y(ne))},idx:le,get config(){return r},set config(ne){r=ne}}),(ne,Ce)=>U[Ce]=ne,ne=>U==null?void 0:U[ne],()=>[le])}),C(F,B)},F=>{var B=Ze(),O=ye(B);we(O,()=>a(o)==3,W=>{or(W,{config:r,buggy:l})},W=>{$l(W,{config:r,get selectedTheme(){return a(i)},set selectedTheme(Q){g(i,Y(Q))}})},!0),C(F,B)},!0),C(T,E)}),s(Be);var je=c(Be,2),ut=n(je);we(ut,()=>a(o)==2,T=>{var E=fr(),A=ye(E);A.__click=J;var F=c(A,2);F.__click=ge;var B=c(F,2);we(B,()=>a(y),O=>{var W=dr();W.__click=()=>{g(y,!1),l.value=[]},C(O,W)},O=>{var W=ur();W.__click=[vr,y],C(O,W)}),H(()=>{Se(A,`btn ${(a(f)?a(j)?"btn-error":"btn-success":"btn-secondary")??""} h-full text-xl`),Se(F,`btn ${(a(L)?a(u)?"btn-error":"btn-success":"btn-primary")??""} h-full text-xl`),se(F,"btn-disabled",!a(ce))}),C(T,E)},T=>{var E=Ze(),A=ye(E);we(A,()=>a(o)==1,F=>{var B=gr(),O=ye(B),W=n(O);s(O),Ot(O,(pe,ne)=>$(pe,ne),()=>({timeframe:300,handler:te}));var Q=c(O,2);Q.__click=()=>{a(v)>0?R(!0):r.value.startTime=new Date().toUTCString(),g(v,Y(a(v)==0?1:0))};var le=n(Q,!0);s(Q);var he=c(Q,2);he.__click=M;var ke=n(he);s(he),H(()=>{se(O,"btn-error",a(v)>0&&!a(Z)),se(O,"btn-warning",a(v)>0&&a(Z)),se(O,"btn-disabled",a(v)==0),P(W,`Record ${(a(Z)?"Pause":"Stop")??""}`),se(Q,"btn-success",a(v)>0),se(Q,"btn-primary",a(v)==0),se(Q,"btn-disabled",a(v)>0&&!a(I)[U.length-1].followCarSeen&&N.length==0),P(le,a(v)>0?"Mark Clear":"Start Round"),he.disabled=_,P(ke,`${(a(k)?"Enable":"Hide")??""} IDing`)}),Ct("tapOrPress",O,pe=>{g(Z,Y(pe.detail.newState));let ne={stopOrPause:!a(Z),time:new Date().toUTCString(),info:""};N.push(ne),a(d).showModal()}),C(F,B)},null,!0),C(T,E)}),s(je);var tt=c(je,2),ft=n(tt),rt=n(ft),st=c(n(rt),2);fe(st,17,()=>N,be,(T,E)=>{var A=_r(),F=ye(A),B=n(F);H(()=>P(B,`${(a(E).stopOrPause?"Stop":"Pause")??""} at ${new Date(a(E).time).toLocaleTimeString()??""}`)),s(F);var O=c(F,2);Ie(O),We(O,()=>a(E).info,W=>a(E).info=W),C(T,A)}),Ke(2),s(rt),s(ft),s(tt),pt(tt,T=>g(d,T),()=>a(d)),s(Oe);var nt=c(Oe,2),Ae=n(nt);Ae.__click=[br,o];var yt=n(Ae);oe(yt,{icon:Tl}),Ke(2),s(Ae);var Ue=c(Ae,2);Ue.__click=[mr,o];var m=n(Ue);oe(m,{icon:Il}),Ke(2),s(Ue);var b=c(Ue,2);b.__click=[pr,o];var p=n(b);oe(p,{icon:El}),Ke(2),s(b);var z=c(b,2);z.__click=[xr,o];var ue=n(z);oe(ue,{icon:wt}),Ke(2),s(z),s(nt),s(Ee),H(()=>{re(me,"aria-label",a(i)),Za(me,a(i)),se(Te,"bg-primary",a(D)),se(Ne,"btn-secondary",!a(X)),se(Ne,"btn-error",a(X)),P(lt,a(X)?"Clear":"Undo"),Se(Be,`flex flex-col overflow-y-auto py-3 ${(a(o)==0||a(o)==3?"row-span-10":"row-span-8")??""}`),Se(je,`${(a(o)==0||a(o)==3?"hidden":"row-span-2")??""} grid grid-flow-col grid-cols-3 gap-x-3`),se(Ae,"dock-active",a(o)==0),se(Ue,"dock-active",a(o)==1),se(b,"dock-active",a(o)==2),se(z,"dock-active",a(o)==3)}),at(Le,()=>a(K),T=>g(K,T)),Ct("tapOrPress",Ne,T=>{g(X,Y(T.detail.newState))}),C(t,_e),He()}vt(["click"]);export{Ir as component};
