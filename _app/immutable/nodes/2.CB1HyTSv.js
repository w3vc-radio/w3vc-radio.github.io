var ba=Object.defineProperty;var Ut=t=>{throw TypeError(t)};var ma=(t,e,l)=>e in t?ba(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Yt=(t,e,l)=>ma(t,typeof e!="symbol"?e+"":e,l),pa=(t,e,l)=>e.has(t)||Ut("Cannot "+l);var Tt=(t,e,l)=>(pa(t,e,"read from private field"),l?l.call(t):e.get(t)),Xt=(t,e,l)=>e.has(t)?Ut("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,l);import{a as C,t as G,c as Ze,n as St}from"../chunks/disclose-version.DbuFNlvV.js";import{I as ra,a4 as Ct,Z as xa,w as ha,l as wa,ap as sa,q as we,A as kt,B as ya,U as ia,a7 as Sa,a8 as qt,O as It,v as ct,aq as pt,a5 as na,m as oa,a6 as Da,D as Ta,y as Jt,ar as zt,as as Gt,at as Ht,au as ka,W as Ia,$ as Vt,av as Ea,S as Ma,aw as La,o as Aa,x as Ca,P as Oa,J as Pa,ax as Na,M as Ra,a9 as Ft,b as za,aa as Bt,e as Xe,ay as Ha,az as Fa,aA as Ba,aB as ja,aC as Ua,ao as X,g as a,X as u,a as Ya,p as ze,j as i,k as s,s as o,t as z,i as He,f as ne,aD as Et,aE as Xa,h as Te,aF as Mt,aG as st}from"../chunks/runtime.9m-lsYQL.js";import{d as ft,e as Ot,a as O}from"../chunks/store.BOjYO_LN.js";import{c as qa,a as F,p as ae,i as ye,b as ht,o as Ja}from"../chunks/index-client.Cx0j_tkv.js";import{i as Ga}from"../chunks/lifecycle.C2CUGHix.js";function Ke(t,e=!1){return xt(t,new Map)}function xt(t,e,l,r){if(typeof t=="object"&&t!==null){const c=e.get(t);if(c!==void 0)return c;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(ra(t)){const d=[];e.set(t,d);for(let v=0;v<t.length;v+=1)d.push(xt(t[v],e));return d}if(Ct(t)===xa){const d={};e.set(t,d);for(var n in t)d[n]=xt(t[n],e);return d}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return xt(t.toJSON(),e)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let Lt=null;function me(t,e){return e}function Va(t,e,l,r){for(var n=[],c=e.length,d=0;d<c;d++)Ea(e[d].e,n,!0);var v=c>0&&n.length===0&&l!==null;if(v){var D=l.parentNode;Ma(D),D.append(l),r.clear(),qe(t,e[0].prev,e[c-1].next)}La(n,()=>{for(var x=0;x<c;x++){var h=e[x];v||(r.delete(h.k),qe(t,h.prev,h.next)),Aa(h.e,!v)}})}function ge(t,e,l,r,n,c=null){var d=t,v={flags:e,items:new Map,first:null},D=(e&sa)!==0;if(D){var x=t;d=we?kt(Ca(x)):x.appendChild(ha())}we&&ya();var h=null,k=!1;wa(()=>{var _=l(),S=ra(_)?_:_==null?[]:ia(_),g=S.length;if(k&&g===0)return;k=g===0;let B=!1;if(we){var I=d.data===Sa;I!==(g===0)&&(d=qt(),kt(d),It(!1),B=!0)}if(we){for(var f=null,E,P=0;P<g;P++){if(ct.nodeType===8&&ct.data===Oa){d=ct,B=!0,It(!1);break}var w=S[P],T=r(w,P);E=ca(ct,v,f,null,w,T,P,n,e),v.items.set(T,E),f=E}g>0&&kt(qt())}if(!we){var V=Pa;Ka(S,v,d,n,e,(V.f&pt)!==0,r)}c!==null&&(g===0?h?na(h):h=oa(()=>c(d)):h!==null&&Da(h,()=>{h=null})),B&&It(!0),l()}),we&&(d=ct)}function Ka(t,e,l,r,n,c,d){var R,J,Z,ve;var v=(n&Na)!==0,D=(n&(zt|Ht))!==0,x=t.length,h=e.items,k=e.first,_=k,S,g=null,B,I=[],f=[],E,P,w,T;if(v)for(T=0;T<x;T+=1)E=t[T],P=d(E,T),w=h.get(P),w!==void 0&&((R=w.a)==null||R.measure(),(B??(B=new Set)).add(w));for(T=0;T<x;T+=1){if(E=t[T],P=d(E,T),w=h.get(P),w===void 0){var V=_?_.e.nodes_start:l;g=ca(V,e,g,g===null?e.first:g.next,E,P,T,r,n),h.set(P,g),I=[],f=[],_=g.next;continue}if(D&&Wa(w,E,T,n),w.e.f&pt&&(na(w.e),v&&((J=w.a)==null||J.unfix(),(B??(B=new Set)).delete(w))),w!==_){if(S!==void 0&&S.has(w)){if(I.length<f.length){var K=f[0],j;g=K.prev;var U=I[0],ce=I[I.length-1];for(j=0;j<I.length;j+=1)Kt(I[j],K,l);for(j=0;j<f.length;j+=1)S.delete(f[j]);qe(e,U.prev,ce.next),qe(e,g,U),qe(e,ce,K),_=K,g=ce,T-=1,I=[],f=[]}else S.delete(w),Kt(w,_,l),qe(e,w.prev,w.next),qe(e,w,g===null?e.first:g.next),qe(e,g,w),g=w;continue}for(I=[],f=[];_!==null&&_.k!==P;)(c||!(_.e.f&pt))&&(S??(S=new Set)).add(_),f.push(_),_=_.next;if(_===null)continue;w=_}I.push(w),g=w,_=w.next}if(_!==null||S!==void 0){for(var W=S===void 0?[]:ia(S);_!==null;)(c||!(_.e.f&pt))&&W.push(_),_=_.next;var de=W.length;if(de>0){var L=n&sa&&x===0?l:null;if(v){for(T=0;T<de;T+=1)(Z=W[T].a)==null||Z.measure();for(T=0;T<de;T+=1)(ve=W[T].a)==null||ve.fix()}Va(e,W,L,h)}}v&&Ta(()=>{var ee;if(B!==void 0)for(w of B)(ee=w.a)==null||ee.apply()}),Jt.first=e.first&&e.first.e,Jt.last=g&&g.e}function Wa(t,e,l,r){r&zt&&Gt(t.v,e),r&Ht?Gt(t.i,l):t.i=l}function ca(t,e,l,r,n,c,d,v,D){var x=Lt;try{var h=(D&zt)!==0,k=(D&ka)===0,_=h?k?Ia(n):Vt(n):n,S=D&Ht?Vt(d):d,g={i:S,v:_,k:c,a:null,e:null,prev:l,next:r};return Lt=g,g.e=oa(()=>v(t,_,S),we),g.e.prev=l&&l.e,g.e.next=r&&r.e,l===null?e.first=g:(l.next=g,l.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{Lt=x}}function Kt(t,e,l){for(var r=t.next?t.next.e.nodes_start:l,n=e?e.e.nodes_start:l,c=t.e.nodes_start;c!==r;){var d=Ra(c);n.before(c),c=d}}function qe(t,e,l){e===null?t.first=l:(e.next=l,e.e.next=l&&l.e),l!==null&&(l.prev=e,l.e.prev=e&&e.e)}function Pt(t,e,l){Ft(()=>{var r=za(()=>e(t,l==null?void 0:l())||{});if(l&&(r!=null&&r.update)){var n=!1,c={};Bt(()=>{var d=l();Xe(d),n&&Ha(c,d)&&(c=d,r.update(d))}),n=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}let Wt=!1;function da(){Wt||(Wt=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const l of t.target.elements)(e=l.__on_r)==null||e.call(l)})},{capture:!0}))}function Me(t){if(we){var e=!1,l=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;re(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var n=t.checked;re(t,"checked",null),t.checked=n}}};t.__on_r=l,Fa(l),da()}}function Za(t,e){var l=t.__attributes??(t.__attributes={});l.value===(l.value=e)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e)}function re(t,e,l,r){var n=t.__attributes??(t.__attributes={});we&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=l)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Ba]=l),l==null?t.removeAttribute(e):typeof l!="string"&&Qa(t).includes(e)?t[e]=l:t.setAttribute(e,l))}var Zt=new Map;function Qa(t){var e=Zt.get(t.nodeName);if(e)return e;Zt.set(t.nodeName,e=[]);for(var l,r=Ct(t),n=Element.prototype;n!==r;){l=ja(r);for(var c in l)l[c].set&&e.push(c);r=Ct(r)}return e}function $a(t,e){var l=t.__className,r=va(e);we&&t.getAttribute("class")===r?t.__className=r:(l!==r||we&&t.getAttribute("class")!==r)&&(r===""?t.removeAttribute("class"):t.setAttribute("class",r),t.__className=r)}function ke(t,e){var l=t.__className,r=va(e);we&&t.className===r?t.__className=r:(l!==r||we&&t.className!==r)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function va(t){return t??""}function se(t,e,l){if(l){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function jt(t,e,l,r=l){t.addEventListener(e,l);const n=t.__on_r;n?t.__on_r=()=>{n(),r()}:t.__on_r=r,da()}function We(t,e,l=e){var r=Ua();jt(t,"input",()=>{var n=Qt(t)?$t(t.value):t.value;l(n),r&&n!==(n=e())&&(t.value=n??"")}),Bt(()=>{var n=e();if(we&&t.defaultValue!==t.value){l(t.value);return}Qt(t)&&n===$t(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function At(t,e,l=e){jt(t,"change",()=>{var r=t.checked;l(r)}),e()==null&&l(!1),Bt(()=>{var r=e();t.checked=!!r})}function Qt(t){var e=t.type;return e==="number"||e==="range"}function $t(t){return t===""?null:+t}function ua(t,e,l){if(t.multiple)return tl(t,e);for(var r of t.options){var n=vt(r);if(qa(n,e)){r.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function el(t,e){Ft(()=>{var l=new MutationObserver(()=>{var r=t.__value;ua(t,r)});return l.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{l.disconnect()}})}function rt(t,e,l=e){var r=!0;jt(t,"change",()=>{var n;if(t.multiple)n=[].map.call(t.querySelectorAll(":checked"),vt);else{var c=t.querySelector(":checked");n=c&&vt(c)}l(n)}),Ft(()=>{var n=e();if(ua(t,n,r),r&&n===void 0){var c=t.querySelector(":checked");c!==null&&(n=vt(c),l(n))}t.__value=n,r=!1}),el(t)}function tl(t,e){for(var l of t.options)l.selected=~e.indexOf(vt(l))}function vt(t){return"__value"in t?t.__value:t.value}const al=300,ll=4,rl="none";function sl(t){return Array.isArray(t)?t:[t]}function dt(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}function il(t,e){return e.filter(l=>t.pointerId!==l.pointerId)}function mt(t,e,l,r,n){const c=t.getBoundingClientRect(),d=Math.round(l.clientX-c.left),v=Math.round(l.clientY-c.top);t.dispatchEvent(new CustomEvent(`${e}${n}`,{detail:{event:l,pointersCount:r.length,target:l.target,x:d,y:v}}))}function fa(t,e,l,r,n,c=rl){e.style.touchAction=sl(c).join(" ");let d=[];function v(x){d.push(x),mt(e,t,x,d,"down"),r==null||r(d,x);const h=x.pointerId;function k(f){h===f.pointerId&&(d=il(f,d),d.length||_(),mt(e,t,f,d,"up"),n==null||n(d,f))}function _(){S(),g(),B(),I()}const S=dt(e,"pointermove",f=>{d=d.map(E=>f.pointerId===E.pointerId?f:E),mt(e,t,f,d,"move"),l==null||l(d,f)}),g=dt(e,"lostpointercapture",f=>{k(f)}),B=dt(e,"pointerup",f=>{k(f)}),I=dt(e,"pointerleave",f=>{d=[],_(),mt(e,t,f,d,"up"),n==null||n(d,f)})}const D=dt(e,"pointerdown",v);return{destroy:()=>{D()}}}function nl(t,e){const l={composed:!1,timeframe:al,triggerBeforeFinished:!1,spread:ll,touchAction:"auto",...e};t.style.userSelect="none",t.oncontextmenu=I=>{I.preventDefault()};const r="press";let n,c,d;const v={x:0,y:0};let D,x=!1,h=!1;function k(I,f,E){if(Math.abs(I-c)<l.spread&&Math.abs(f-d)<l.spread&&Date.now()-n>l.timeframe){const P=t.getBoundingClientRect(),w=Math.round(I-P.left),T=Math.round(f-P.top);h=!0,t.dispatchEvent(new CustomEvent(r,{detail:{x:w,y:T,target:E.target,pointerType:E.pointerType}}))}}function _(I,f){clearTimeout(D),x||k(f.clientX,f.clientY,f)}function S(I,f){return v.x=f.clientX,v.y=f.clientY,h}function g(I,f){h=!1,c=f.clientX,d=f.clientY,n=Date.now(),x=!1,v.x=f.clientX,v.y=f.clientY,l.triggerBeforeFinished&&(D=setTimeout(()=>{x=!0,k(v.x,v.y,f)},l.timeframe+1))}const B=fa(r,t,S,g,_,l.touchAction);return l.composed?{onMove:S,onDown:g,onUp:_}:{destroy:()=>{B.destroy(),clearTimeout(D)}}}var ut;class ol{constructor(e,l){Xt(this,ut,X());Yt(this,"key","");this.key=e,this.value=l;{const r=localStorage.getItem(e);r&&(this.value=this.deserialize(r))}Ya(()=>{localStorage.setItem(this.key,this.serialize(this.value))})}get value(){return a(Tt(this,ut))}set value(e){u(Tt(this,ut),F(e))}update(){{const e=localStorage.getItem(this.key);e&&(this.value=this.deserialize(e))}}serialize(e){return JSON.stringify(e)}deserialize(e){return JSON.parse(e)}}ut=new WeakMap;function wt(t,e){return new ol(t,e)}const cl=(t,e,l)=>{e(!e()),l.operatorLastIdUpdateFunc(new Date().toUTCString())};var dl=G('<div class="text-light bg-base-300 flex flex-initial flex-row justify-around space-x-1 rounded-sm px-1 shadow-xl"><div class="my-auto font-mono text-xl italic"> </div> <div class="my-auto font-mono text-xl"> </div></div>'),vl=(t,e,l,r)=>{a(e)?(l(),u(e,!1)):r()},ul=G('<div class="grid shrink-0 basis-1/3 grid-flow-row grid-cols-12 py-3"><div class="col-span-1 [text-orientation:sideways] [writing-mode:vertical-lr]"><div class="rotate-180 touch-manipulation text-center"><div class="flex flex-row items-center justify-center gap-3"><div class="inline-grid *:[grid-area:1/1]"><div></div></div> <p> </p></div></div></div> <div class="col-span-7 grid grid-flow-col grid-cols-2 grid-rows-3 gap-x-1 gap-y-1.5 overflow-hidden p-1"></div> <div class="col-span-4 mx-2 flex flex-col space-y-1"><div class="flex grow-10 flex-row gap-2"><button class="btn h-full grow text-lg"> </button></div> <button> </button></div></div>');function fl(t,e){ze(e,!0);let l=ae(e,"followRecorded",15),r=ae(e,"didID",15),n=ne(()=>e.buggies.length.valueOf()),c=ne(()=>!l()&&a(n)<Math.min(6,e.maxBuggies-e.prevFollowRecorded)),d=ne(()=>!l()&&e.prevFollowRecorded),v=X(!1),D=L=>{a(c)&&(e.buggies.push({time:new Date,number:e.buggies.length+1}),e.undoList.push(e.idx))},x=L=>{a(d)&&(e.buggies.push({time:new Date,number:"F"}),l(!0),e.undoList.push(e.idx))};const h=()=>{l()&&l(!1),e.buggies.pop()};let k=L=>{if(L.number=="1"||L.number=="F"){let R=L.time-e.startTime,J=R/1e3%60;return`@${(R/1e3-J)/60}:${String(Math.ceil(J)).padStart(2,"0")}`}else{let R=e.buggies[e.buggies.indexOf(L)-1],J=L.time-R.time,Z=J/1e3%60;return`+${(J/1e3-Z)/60}:${String(Math.floor(Z)).padStart(2,"0")}`}},_=L=>{let R=!1,J=!1,Z=new Date;return e.config.value.operators.forEach(ve=>{if(ve.station==L){let ee=Math.max(Math.floor((Z-new Date(ve.lastId))/6e4),0);ve.isPrimary&&ee>=12?R=!0:ee>=12&&(J=!0)}}),R?"status-error":J?"status-warning":"status-success"},S=X(F(_(e.name)));setTimeout(()=>u(S,F(_(e.name))),6e4);var g=ul(),B=i(g),I=i(B),f=i(I),E=i(f),P=i(E);s(E);var w=o(E,2),T=i(w,!0);s(w),s(f),s(I),s(B);var V=o(B,2);ge(V,21,()=>e.buggies,L=>L.number,(L,R)=>{var J=dl(),Z=i(J),ve=i(Z,!0);s(Z);var ee=o(Z,2),Q=i(ee,!0);z(()=>O(Q,k(a(R)))),s(ee),s(J),z(()=>O(ve,a(R).number)),C(L,J)}),s(V);var K=o(V,2),j=i(K),U=i(j);U.__click=[vl,v,x,D];var ce=i(U);s(U),Pt(U,(L,R)=>nl(L,R),()=>({timeframe:300,triggerBeforeFinished:!0})),s(j);var W=o(j,2);W.__click=[cl,r,e];var de=i(W,!0);return s(W),s(K),s(g),z(()=>{ke(P,`status ${a(S)??""}`),O(T,e.name),U.disabled=!a(c)&&!a(d),se(U,"btn-primary",a(c)||a(d)),O(ce,`Record ${(a(c)&&!a(v)?e.buggies.length+1:"F")??""}`),ke(W,`btn ${(r()?"btn-success":"btn-secondary")??""} grow-1 text-xl`),se(W,"hidden",e.idHidden),O(de,r()?"ID'd":"ID?")}),Ot("press",U,()=>{u(v,!0)}),C(t,g),He({removeLastBuggy:h})}ft(["click"]);var gl=G('<div class="text-light bg-base-300 flex flex-initial flex-row justify-around space-x-1 rounded-sm px-1 shadow-xl"><div class="my-auto text-xl"> </div> <div class="my-auto font-mono text-xl"> </div></div>'),_l=G('<fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"> </legend> <div class="flex flex-row gap-2"></div></fieldset>');function bl(t,e){ze(e,!0);let l=(v,D,x)=>{if(v.number=="1"||v.number=="F"){let h=new Date(v.time)-e.startTime,k=h/1e3%60;return`@${(h/1e3-k)/60}:${String(Math.ceil(k)).padStart(2,"0")}`}else{let h=x[x.indexOf(v)-1],k=new Date(v.time)-new Date(h.time),_=k/1e3%60;return`+${(k/1e3-_)/60}:${String(Math.floor(_)).padStart(2,"0")}`}};var r=_l(),n=i(r),c=i(n,!0);s(n);var d=o(n,2);ge(d,21,()=>e.buggies,me,(v,D,x)=>{var h=gl(),k=i(h),_=i(k,!0);s(k);var S=o(k,2),g=i(S,!0);z(()=>O(g,l(a(D),x,e.buggies))),s(S),s(h),z(()=>O(_,a(D).number)),C(v,h)}),s(d),s(r),z(()=>O(c,e.name)),C(t,r),He()}function ea(t,e){e&&e!=="lg"&&e!=="sm"&&e!=="xs"?t.style.fontSize=e.replace("x","em"):t.style.fontSize=""}function ml(t,e,l,r,n,c=1,d="",v=""){let D=1,x=1;n&&(n=="horizontal"?D=-1:n=="vertical"?x=-1:D=x=-1),typeof t=="string"&&(t=parseFloat(t)),typeof e=="string"&&(e=parseFloat(e)),typeof l=="string"&&(l=parseFloat(l));const h=`${e*c}${d}`,k=`${l*c}${d}`;let _=`translate(${h},${k}) scale(${D*t},${x*t})`;return r&&(_+=` rotate(${r}${v})`),_}var pl=St('<title class="svelte-bvo74f"> </title>'),xl=St('<path class="svelte-bvo74f"></path>'),hl=St('<path class="svelte-bvo74f"></path><path class="svelte-bvo74f"></path>',1),wl=St('<svg aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-bvo74f"><g class="svelte-bvo74f"><!></g></g></svg>');function oe(t,e){ze(e,!1);const l=Mt(),r=Mt();let n=ae(e,"class",24,()=>{}),c=ae(e,"id",24,()=>{}),d=ae(e,"style",24,()=>{}),v=ae(e,"icon",8),D=ae(e,"title",24,()=>{}),x=ae(e,"size",24,()=>{}),h=ae(e,"color",24,()=>{}),k=ae(e,"fw",8,!1),_=ae(e,"pull",24,()=>{}),S=ae(e,"scale",8,1),g=ae(e,"translateX",8,0),B=ae(e,"translateY",8,0),I=ae(e,"rotate",24,()=>{}),f=ae(e,"flip",24,()=>{}),E=ae(e,"spin",8,!1),P=ae(e,"pulse",8,!1),w=ae(e,"primaryColor",8,""),T=ae(e,"secondaryColor",8,""),V=ae(e,"primaryOpacity",8,1),K=ae(e,"secondaryOpacity",8,.4),j=ae(e,"swapOpacity",8,!1),U=Mt();Et(()=>(a(U),Xe(x()),ea),()=>{a(U)&&x()&&ea(a(U),x())}),Et(()=>Xe(v()),()=>{u(l,v()&&v().icon||[0,0,"",[],""])}),Et(()=>(Xe(S()),Xe(g()),Xe(B()),Xe(I()),Xe(f())),()=>{u(r,ml(S(),g(),B(),I(),f(),512))}),Xa(),Ga();var ce=Ze(),W=Te(ce);ye(W,()=>a(l)[4],de=>{var L=wl(),R=i(L);ye(R,D,ee=>{var Q=pl(),_e=i(Q,!0);s(Q),z(()=>O(_e,D())),C(ee,Q)});var J=o(R),Z=i(J),ve=i(Z);ye(ve,()=>typeof a(l)[4]=="string",ee=>{var Q=xl();z(()=>{re(Q,"d",a(l)[4]),re(Q,"fill",h()||w()||"currentColor"),re(Q,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`)}),C(ee,Q)},ee=>{var Q=hl(),_e=Te(Q),be=o(_e);z(()=>{re(_e,"d",a(l)[4][0]),re(_e,"fill",T()||h()||"currentColor"),re(_e,"fill-opacity",j()!=!1?V():K()),re(_e,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`),re(be,"d",a(l)[4][1]),re(be,"fill",w()||h()||"currentColor"),re(be,"fill-opacity",j()!=!1?K():V()),re(be,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`)}),C(ee,Q)}),s(Z),s(J),s(L),ht(L,ee=>u(U,ee),()=>a(U)),z(()=>{re(L,"id",c()),$a(L,`svelte-fa svelte-fa-base ${n()??""} svelte-bvo74f`),re(L,"style",d()),re(L,"viewBox",`0 0 ${a(l)[0]??""} ${a(l)[1]??""}`),se(L,"pulse",P()),se(L,"svelte-fa-size-lg",x()==="lg"),se(L,"svelte-fa-size-sm",x()==="sm"),se(L,"svelte-fa-size-xs",x()==="xs"),se(L,"svelte-fa-fw",k()),se(L,"svelte-fa-pull-left",_()==="left"),se(L,"svelte-fa-pull-right",_()==="right"),se(L,"spin",E()),re(J,"transform",`translate(${a(l)[0]/2} ${a(l)[1]/2})`),re(J,"transform-origin",`${a(l)[0]/4} 0`),re(Z,"transform",a(r))}),C(de,L)}),C(t,ce),He()}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const yl={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},Sl={prefix:"fas",iconName:"sitemap",icon:[576,512,[],"f0e8","M208 80c0-26.5 21.5-48 48-48l64 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-8 0 0 40 152 0c30.9 0 56 25.1 56 56l0 32 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-32c0-4.4-3.6-8-8-8l-152 0 0 40 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-40-152 0c-4.4 0-8 3.6-8 8l0 32 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-32c0-30.9 25.1-56 56-56l152 0 0-40-8 0c-26.5 0-48-21.5-48-48l0-64z"]},yt={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},Dl={prefix:"fas",iconName:"id-badge",icon:[384,512,[],"f2c1","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zm96 320l64 0c44.2 0 80 35.8 80 80c0 8.8-7.2 16-16 16L96 416c-8.8 0-16-7.2-16-16c0-44.2 35.8-80 80-80zm-32-96a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM144 64l96 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-96 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Tl={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Nt={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Rt={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96l576 0c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96zm0 32L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-288L0 128zM64 405.3c0-29.5 23.9-53.3 53.3-53.3l117.3 0c29.5 0 53.3 23.9 53.3 53.3c0 5.9-4.8 10.7-10.7 10.7L74.7 416c-5.9 0-10.7-4.8-10.7-10.7zM176 192a64 64 0 1 1 0 128 64 64 0 1 1 0-128zm176 16c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},kl={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Il=kl,ta={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},El={prefix:"fas",iconName:"inbox",icon:[512,512,[],"f01c","M121 32C91.6 32 66 52 58.9 80.5L1.9 308.4C.6 313.5 0 318.7 0 323.9L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-92.1c0-5.2-.6-10.4-1.9-15.5l-57-227.9C446 52 420.4 32 391 32L121 32zm0 64l270 0 48 192-51.2 0c-12.1 0-23.2 6.8-28.6 17.7l-14.3 28.6c-5.4 10.8-16.5 17.7-28.6 17.7l-120.4 0c-12.1 0-23.2-6.8-28.6-17.7l-14.3-28.6c-5.4-10.8-16.5-17.7-28.6-17.7L73 288 121 96z"]},aa={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},ga={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Ml={prefix:"fas",iconName:"sign-hanging",icon:[512,512,["sign"],"f4d9","M96 0c17.7 0 32 14.3 32 32l0 32 352 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-352 0 0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352-32 0C14.3 128 0 113.7 0 96S14.3 64 32 64l32 0 0-32C64 14.3 78.3 0 96 0zm96 160l256 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32z"]},Ll=Ml,Al={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]};var Cl=(t,e)=>e.removeEntry(e.idx),Ol=G('<label id="org-select" class="fieldset-label text-base"> </label> <input type="text" class="input">',1),Pl=G('<fieldset class="fieldset bg-base-100 border-base-300 roundoed-box w-full border p-4"><legend class="fieldset-legend text-lg">Stop/Pause Notes</legend> <!></fieldset>'),Nl=G('<div class="card bg-base-300 my-2 flex flex-col p-4"><div class="flex w-full flex-row justify-between"><p class="badge badge-primary badge-xl"><!> </p> <p class="badge badge-secondary badge-xl"><!> </p> <p class="badge badge-info badge-xl"><!> </p> <button class="btn btn-warning btn-sm"><!></button></div> <!> <!></div>');function Rl(t,e){ze(e,!0);let l=F(e.round);var r=Nl(),n=i(r),c=i(n),d=i(c);oe(d,{icon:Sl});var v=o(d,1,!0);s(c);var D=o(c,2),x=i(D);oe(x,{icon:Nt});const h=ne(()=>new Date(l.startTime).getHours().toString().padStart(2,"0")??""),k=ne(()=>new Date(l.startTime).getMinutes().toString().padStart(2,"0")??"");var _=o(x);z(()=>O(_,`${a(h)}:${a(k)}`)),s(D);var S=o(D,2),g=i(S);oe(g,{icon:Dl});var B=o(g,1,!0);s(S);var I=o(S,2);I.__click=[Cl,e];var f=i(I);oe(f,{icon:ga,scale:"1.5x"}),s(I),s(n);var E=o(n,2);ge(E,17,()=>l.buggies,me,(w,T)=>{var V=ne(()=>new Date(l.startTime));bl(w,{get name(){return a(T).name},get buggies(){return a(T).buggies},get startTime(){return a(V)}})});var P=o(E,2);ye(P,()=>l.notes.length>0,w=>{var T=Pl(),V=o(i(T),2);ge(V,17,()=>l.notes,me,(K,j)=>{var U=Ol(),ce=Te(U),W=i(ce);z(()=>O(W,`${(a(j).stopOrPause?"Stop":"Pause")??""} at ${new Date(a(j).time).toLocaleTimeString()??""}`)),s(ce);var de=o(ce,2);Me(de),We(de,()=>a(j).info,L=>a(j).info=L),C(K,U)}),s(T),C(w,T)}),s(r),z(()=>{O(v,l.team),O(B,l.didID?"Y":"N")}),C(t,r),He()}ft(["click"]);var zl=G('<div class="row-span-3 flex flex-col overflow-scroll"></div>');function Hl(t,e){ze(e,!0);let l=wt("buggy",[]);wt("config",[]);let r=d=>{let v=Ke(l.value);v.splice(v.length-1-d,1),l.value=v},n=(d,v)=>{l.value[d]=v};var c=zl();ge(c,21,()=>l.value.toReversed(),me,(d,v,D)=>{var x=ne(()=>l.value.length-D);Rl(d,{get round(){return l.value[D]},get idx(){return a(x)},removeEntry:r,updateEntry:n})}),s(c),C(t,c),He()}var Fl=(t,e)=>e(),Bl=(t,e,l,r)=>e(a(l),r),jl=G("<option> </option>"),Ul=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><span class="text-xl"> </span> <div class="flex w-1/3 flex-row justify-between"><button class="btn btn-sm btn-info min-w-[1rem]"><!></button> <button class="btn btn-sm btn-info color-white"><!></button></div></div></div>'),Yl=(t,e,l,r)=>e(a(l),r),Xl=G("<option> </option>"),ql=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><span class="text-xl"> </span> <div class="flex w-1/3 flex-row justify-between"><button class="btn btn-sm btn-info min-w-[1rem]"><!></button> <button class="btn btn-sm btn-info color-white"><!></button></div></div></div>'),Jl=G("<option> </option>"),Gl=(t,e,l,r,n,c)=>{a(e).length>0&&a(l).length>0&&a(r).length>0&&(n.push({name:a(e),callsign:a(l),lastId:new Date().toUTCString(),station:a(r),isPrimary:a(c)}),u(e,""),u(l,""),u(r,""),u(c,!1))},Vl=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-2/3 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <div class="flex h-full w-1/3 flex-col justify-between gap-1"><button class="btn btn-xs btn-error min-w-[1rem] grow-1"><!></button> <button class="btn btn-sm btn-info grow-2"><!></button></div></div></div>'),Kl=G("<option> </option>"),Wl=(t,e,l,r,n,c,d,v)=>{e[a(l)]={name:a(r),callsign:a(n),station:a(c),lastId:a(d).lastId,isPrimary:a(v)},u(r,""),u(n,""),u(c,""),u(v,!1)},Zl=G("<option> </option>"),Ql=G('<div class="row-span-3 flex flex-col overflow-scroll"><div class="mx-auto w-7/8"><button class="btn btn-primary btn-block mt-4 w-full text-xl">Save</button> <div role="alert" class="alert alert-error mt-2 mb-1 py-1"><!> <span class="text-lg"> </span></div> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Teams</legend> <label id="org-select" class="fieldset-label text-base">Select Orgs</label> <select id="org-select" class="select select-lg" multiple></select> <label id="org-select" class="fieldset-label text-base">Set Roll Order</label> <div class="flex flex-col gap-2"></div></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Stations</legend> <label id="org-select" class="fieldset-label text-base">Select Stations</label> <select id="org-select" class="select select-lg" multiple></select> <label id="org-select" class="fieldset-label text-base">Set Station Order</label> <div class="flex flex-col gap-2"></div></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Operators</legend> <fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Add Operator</legend> <label id="org-select" class="fieldset-label text-base">Operator Name</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Operator Callsign</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Select Station</label> <select class="select"><!><option>Rover</option></select> <label class="fieldset-label text-base">Should be primary? <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <button class="btn btn-secondary btn-block">Save Operator</button></fieldset> <label id="org-select" class="fieldset-label text-base">Assign Operators</label> <div class="flex flex-col gap-2"></div> <dialog class="modal"><div class="modal-box"><fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Edit Operator</legend> <label id="org-select" class="fieldset-label text-base">Operator Name</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Operator Callsign</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Select Station</label> <select class="select"></select> <label class="fieldset-label text-base">Should be primary? <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <form method="dialog"><button class="btn btn-secondary btn-block">Save Operator</button></form></fieldset></div></dialog></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Misc</legend> <label class="fieldset-label text-lg">Flip Handedness <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <label class="fieldset-label text-base">Select Theme</label> <select class="select select-lg"><option selected>default</option><!></select> <label class="fieldset-label text-base">Export Password</label> <input type="text" class="input"></fieldset></div></div>');function $l(t,e){ze(e,!0);let l=ae(e,"config",7),r=ae(e,"selectedTheme",15),n=X(F(l().value.teams)),c=F(l().value.teams),d=X(F(l().value.stations)),v=F(l().value.stations),D=X(!1),x=F(l().value.operators),h=X(F(l().value.exportPassword)),k=X(""),_=X(""),S=X(""),g=X(!1),B=X(void 0),I=X(void 0),f=X(void 0),E=X(""),P=["AEPi","Apex","Atlas","CIA","DG","Fringe","PiKA","Robobuggy","SAE","SDC","SigEp","SigNu","Spirit"],w=["Net","Panther","Chute","Start","Finish","Broadcast","TV","Westinghouse","Monument","Scaife","Chair Shadow","Safety Shadow"],T=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autum","business","acid","lemonade","night","coffee","winter","dim","nord","sunset","caramellatte","abyss","silk"];function V(m,b,p){for(;b<0;)b+=m.length;for(;p<0;)p+=m.length;if(p>=m.length)for(var N=p-m.length+1;(N-=1)+1;)m.push(void 0);return m.splice(p,0,m.splice(b,1)[0]),m}function K(m,b){V(m,b,Math.max(b-1,0))}function j(m,b){V(m,b,Math.min(b+1,m.length-1))}function U(m,b){b.forEach(p=>{m.includes(p)||b.splice(b.indexOf(p),1)}),m.forEach(p=>{b.includes(p)||b.push(p)})}async function ce(){let m=!0;if(v.forEach(b=>{let p=!1;x.forEach(N=>{N.station==b&&N.isPrimary&&(p=!0)}),m=m&&p}),m){l().value.teams=c,l().value.stations=v,l().value.operators=x,l().value.theme=r(),l().value.handedness=a(D),l().value.exportPassword=a(h),u(E,"");let b=new Date,p={sheetId:"Rolls "+(b.getMonth()+1).toString()+"_"+b.getDate().toString()};try{const N=await fetch("https://buggyapp.kandasamyc.com/createSheet",{method:"POST",headers:{"Auth-Code":l().value.exportPassword},body:JSON.stringify(p)})}catch{console.log("Post error")}}else u(E,"All stations need primary operator")}var W=Ql(),de=i(W),L=i(de);L.__click=[Fl,ce];var R=o(L,2),J=i(R);oe(J,{icon:Al});var Z=o(J,2),ve=i(Z,!0);s(Z),s(R);var ee=o(R,2),Q=o(i(ee),4);Q.__change=[Bl,U,n,c],ge(Q,21,()=>P,me,(m,b)=>{var p=jl(),N={},ue=i(p,!0);s(p),z(()=>{re(p,"id",a(b)),N!==(N=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),O(ue,a(b))}),C(m,p)}),s(Q);var _e=o(Q,4);ge(_e,21,()=>c,me,(m,b,p)=>{var N=Ul(),ue=i(N),xe=i(ue),Re=i(xe,!0);s(xe);var M=o(xe,2),y=i(M);y.__click=()=>K(c,p);var A=i(y);oe(A,{icon:aa,scale:1.2,class:"bg-light"}),s(y);var Y=o(y,2);Y.__click=()=>j(c,p);var H=i(Y);oe(H,{icon:ta,scale:1.2,class:"bg-light"}),s(Y),s(M),s(ue),s(N),z(()=>O(Re,a(b))),C(m,N)}),s(_e),s(ee);var be=o(ee,2),pe=o(i(be),4);pe.__change=[Yl,U,d,v],ge(pe,21,()=>w,me,(m,b)=>{var p=Xl(),N={},ue=i(p,!0);s(p),z(()=>{re(p,"id",a(b)),N!==(N=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),O(ue,a(b))}),C(m,p)}),s(pe);var Le=o(pe,4);ge(Le,21,()=>v,me,(m,b,p)=>{var N=ql(),ue=i(N),xe=i(ue),Re=i(xe,!0);s(xe);var M=o(xe,2),y=i(M);y.__click=()=>K(v,p);var A=i(y);oe(A,{icon:aa,scale:1.2,class:"bg-light"}),s(y);var Y=o(y,2);Y.__click=()=>j(v,p);var H=i(Y);oe(H,{icon:ta,scale:1.2,class:"bg-light"}),s(Y),s(M),s(ue),s(N),z(()=>O(Re,a(b))),C(m,N)}),s(Le),s(be);var Oe=o(be,2),Ae=o(i(Oe),2),Ce=o(i(Ae),4);Me(Ce);var Ie=o(Ce,4);Me(Ie);var Pe=o(Ie,4),Qe=i(Pe);ge(Qe,17,()=>v,me,(m,b)=>{var p=Jl(),N={},ue=i(p,!0);s(p),z(()=>{re(p,"id",a(b)),N!==(N=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),O(ue,a(b))}),C(m,p)}),st(),s(Pe);var Je=o(Pe,2),Ee=o(i(Je));Me(Ee),s(Je);var $e=o(Je,2);$e.__click=[Gl,k,_,S,x,g],s(Ae);var Fe=o(Ae,4);ge(Fe,21,()=>x,me,(m,b,p)=>{var N=Vl(),ue=i(N),xe=i(ue),Re=i(xe),M=i(Re),y=ne(()=>`w-1/8  ${(a(b).isPrimary?"text-info":"")??""}`);oe(M,{icon:yt,get class(){return a(y)}});var A=o(M,2),Y=i(A,!0);s(A),s(Re);var H=o(Re,2),q=i(H);oe(q,{icon:Rt,class:"w-1/8"});var le=o(q,2),$=i(le,!0);s(le),s(H);var te=o(H,2),Se=i(te);oe(Se,{icon:Ll,class:"w-1/8"});var he=o(Se,2),fe=i(he,!0);s(he),s(te),s(xe);var ie=o(xe,2),De=i(ie);De.__click=()=>x.splice(p,1);var Ye=i(De);oe(Ye,{icon:ga,scale:1.2}),s(De);var Dt=o(De,2);Dt.__click=()=>{u(I,F(a(b))),u(k,F(a(I).name)),u(_,F(a(I).callsign)),u(S,F(a(I).station)),u(g,F(a(I).isPrimary)),u(f,F(p)),a(B).showModal()};var _a=i(Dt);oe(_a,{icon:yl,scale:1.2}),s(Dt),s(ie),s(ue),s(N),z(()=>{O(Y,a(b).name),O($,a(b).callsign),O(fe,a(b).station)}),C(m,N)}),s(Fe);var Ge=o(Fe,2),Ve=i(Ge),Ne=i(Ve),it=o(i(Ne),4);Me(it);var Be=o(it,4);Me(Be);var et=o(Be,4);ge(et,21,()=>v,me,(m,b)=>{var p=Kl(),N={},ue=i(p,!0);s(p),z(()=>{re(p,"id",a(b)),N!==(N=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),O(ue,a(b))}),C(m,p)}),s(et);var je=o(et,2),gt=o(i(je));Me(gt),s(je);var tt=o(je,2),_t=i(tt);_t.__click=[Wl,x,f,k,_,S,I,g],s(tt),s(Ne),s(Ve),s(Ge),ht(Ge,m=>u(B,m),()=>a(B)),s(Oe);var nt=o(Oe,2),at=o(i(nt),2),ot=o(i(at));Me(ot),s(at);var lt=o(at,4),bt=o(i(lt));ge(bt,17,()=>T,me,(m,b)=>{var p=Zl(),N={},ue=i(p,!0);s(p),z(()=>{re(p,"id",a(b)),N!==(N=a(b))&&(p.value=(p.__value=a(b))==null?"":a(b)),O(ue,a(b))}),C(m,p)}),s(lt);var Ue=o(lt,4);Me(Ue),s(nt),s(de),s(W),z(()=>{se(R,"hidden",a(E).length==0),O(ve,a(E)),Ee.disabled=a(S)=="Rover"}),rt(Q,()=>a(n),m=>u(n,m)),rt(pe,()=>a(d),m=>u(d,m)),We(Ce,()=>a(k),m=>u(k,m)),We(Ie,()=>a(_),m=>u(_,m)),rt(Pe,()=>a(S),m=>u(S,m)),At(Ee,()=>a(g),m=>u(g,m)),We(it,()=>a(k),m=>u(k,m)),We(Be,()=>a(_),m=>u(_,m)),rt(et,()=>a(S),m=>u(S,m)),At(gt,()=>a(g),m=>u(g,m)),At(ot,()=>a(D),m=>u(D,m)),rt(lt,r),We(Ue,()=>a(h),m=>u(h,m)),C(t,W),He()}ft(["click","change"]);var er=G("<div></div>"),tr=(t,e)=>e.idFunc(e.idx),ar=G('<div class="flex h-full w-1/2 flex-col justify-between gap-1"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><!> <div></div></div> <span class=" text-base"> </span></div> <button>ID</button></div>');function la(t,e){ze(e,!0);let l=X(F(new Date)),r=ne(()=>Math.max(Math.floor((a(l)-new Date(e.lastId))/6e4),0)),n=8,c=12;setTimeout(()=>u(l,F(new Date)),6e4);var d=ar(),v=i(d),D=i(v),x=i(D);ye(x,()=>a(r)>=n,g=>{var B=er();z(()=>ke(B,`status ${(a(r)>=c?"status-error":a(r)>=n?"status-warning":"status-success")??""} animate-ping`)),C(g,B)});var h=o(x,2);s(D);var k=o(D,2),_=i(k);s(k),s(v);var S=o(v,2);S.__click=[tr,e],s(d),z(()=>{ke(h,`status ${(a(r)>=c?"status-error":a(r)>=n?"status-warning":"status-success")??""}`),O(_,`ID'd ${a(r)??""}m ago`),ke(S,`btn btn-block btn-lg mb-1 grow-1 ${(a(r)>=n?"btn-primary":"btn-secondary")??""}`)}),C(t,d),He()}ft(["click"]);var lr=G("<div></div>"),rr=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-1/2 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <!></div></div>'),sr=G('<fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><!> <div></div></div> <span class=" text-base"> </span></div></legend> <label class="fieldset-label text-base">Individual Statuses</label> <div class="flex flex-col gap-2"></div></fieldset>'),ir=G('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-1/2 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <!></div></div>'),nr=G('<div class="row-span-3 flex flex-col overflow-scroll"><div class="mx-auto w-7/8"><!> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><div></div> <div></div></div> <span class=" text-base">Rover Operators</span></div></legend> <label class="fieldset-label text-base">Individual Statuses</label> <div class="flex flex-col gap-2"></div></fieldset></div></div>');function or(t,e){ze(e,!0);let l=ae(e,"config",7),r=f=>{l().value.operators[f].lastId=new Date().toUTCString()},n=f=>{let E=!1,P=!1,w=new Date;return l().value.operators.forEach(T=>{if(T.station==f){let V=Math.max(Math.floor((w-new Date(T.lastId))/6e4),0);T.isPrimary&&V>=12?E=!0:V>=12&&(P=!0)}}),E?"status-error":P?"status-warning":"status-success"},c=ne(()=>l().value.stations.map(n)),d=ne(()=>n("Rover"));var v=nr(),D=i(v),x=i(D);ge(x,17,()=>l().value.stations,me,(f,E,P)=>{var w=sr(),T=i(w),V=i(T),K=i(V),j=i(K);ye(j,()=>a(c)[P]=="status-error",L=>{var R=lr();z(()=>ke(R,`status ${a(c)[P]??""} animate-ping`)),C(L,R)});var U=o(j,2);s(K);var ce=o(K,2),W=i(ce);s(ce),s(V),s(T);var de=o(T,4);ge(de,21,()=>l().value.operators,me,(L,R,J)=>{var Z=Ze(),ve=Te(Z);ye(ve,()=>a(R).station==a(E),ee=>{var Q=rr(),_e=i(Q),be=i(_e),pe=i(be),Le=i(pe),Oe=ne(()=>`w-1/8 ${(a(R).isPrimary?"text-info":"")??""}`);oe(Le,{icon:yt,get class(){return a(Oe)}});var Ae=o(Le,2),Ce=i(Ae,!0);s(Ae),s(pe);var Ie=o(pe,2),Pe=i(Ie);oe(Pe,{icon:Rt,class:"w-1/8"});var Qe=o(Pe,2),Je=i(Qe,!0);s(Qe),s(Ie);var Ee=o(Ie,2),$e=i(Ee);oe($e,{icon:Nt,class:"w-1/8"});var Fe=o($e,2),Ge=i(Fe,!0);z(()=>O(Ge,new Date(a(R).lastId).toLocaleTimeString())),s(Fe),s(Ee),s(be);var Ve=o(be,2);la(Ve,{get lastId(){return a(R).lastId},idx:J,idFunc:r}),s(_e),s(Q),z(()=>{O(Ce,a(R).name),O(Je,a(R).callsign)}),C(ee,Q)}),C(L,Z)}),s(de),s(w),z(()=>{ke(U,`status ${a(c)[P]??""}`),O(W,`${a(E)??""} Operators`)}),C(f,w)});var h=o(x,2),k=i(h),_=i(k),S=i(_),g=i(S),B=o(g,2);s(S),st(2),s(_),s(k);var I=o(k,4);ge(I,21,()=>l().value.operators,me,(f,E,P)=>{var w=Ze(),T=Te(w);ye(T,()=>a(E).station=="Rover",V=>{var K=ir(),j=i(K),U=i(j),ce=i(U),W=i(ce),de=ne(()=>`w-1/8 ${(a(E).isPrimary?"text-info":"")??""}`);oe(W,{icon:yt,get class(){return a(de)}});var L=o(W,2),R=i(L,!0);s(L),s(ce);var J=o(ce,2),Z=i(J);oe(Z,{icon:Rt,class:"w-1/8"});var ve=o(Z,2),ee=i(ve,!0);s(ve),s(J);var Q=o(J,2),_e=i(Q);oe(_e,{icon:Nt,class:"w-1/8"});var be=o(_e,2),pe=i(be,!0);z(()=>O(pe,new Date(a(E).lastId).toLocaleTimeString())),s(be),s(Q),s(U);var Le=o(U,2);la(Le,{get lastId(){return a(E).lastId},idx:P,idFunc:r}),s(j),s(K),z(()=>{O(R,a(E).name),O(ee,a(E).callsign)}),C(V,K)}),C(f,w)}),s(I),s(h),s(D),s(v),z(()=>{ke(g,`status ${a(d)??""} animate-ping`),ke(B,`status ${a(d)??""}`)}),C(t,v),He()}var cr=G('<option class="p-1 text-sm"> </option>'),dr=G('<button class="btn btn-error h-full text-xl">Are you sure?</button>'),vr=(t,e)=>{u(e,!0),setTimeout(()=>u(e,!1),2e3)},ur=G('<button class="btn btn-warning h-full text-xl">Clear Data</button>'),fr=G("<button>Copy Data To Clipboard</button> <button>Export Data</button> <!>",1),gr=G('<button class="btn btn-warning h-full text-xl"> </button> <button class="btn h-full text-xl"> </button> <button class="btn btn-secondary h-full text-xl"> </button>',1),_r=G('<label id="org-select" class="fieldset-label text-base"> </label> <input type="text" class="input">',1),br=(t,e)=>{u(e,!1)},mr=(t,e)=>u(e,0),pr=(t,e)=>u(e,1),xr=(t,e)=>u(e,2),hr=(t,e)=>u(e,3),wr=G('<input type="radio" name="theme-dropdown" class="theme-controller btn btn-sm btn-block btn-ghost hidden w-full justify-start" checked> <div class="h-svh w-full px-2 py-2"><div class="grid h-full grid-flow-col grid-rows-12 gap-0 text-2xl"><div id="header-row" class="row-span-1 grid grid-flow-col grid-cols-3 grid-rows-4 gap-x-3"><select class="bg-base-300 form-select col-span-1 row-span-4 h-full w-full rounded-md border-0 text-lg"></select> <p class="col-span-1 col-start-2 row-span-2 row-start-1 text-center text-lg"> </p> <p class="col-span-1 col-start-2 row-span-2 row-start-3 rounded-md py-0.5 text-center text-lg"> </p> <div class="col-span-1 col-start-3 row-span-4 mr-2"><button class="btn h-full w-full touch-manipulation text-lg"> </button></div></div> <div id="content-row"><!></div> <div id="settings-row"><!></div> <dialog class="modal"><div class="modal-box"><fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Stop/Pause Notes</legend> <!> <form method="dialog"><button class="btn btn-secondary btn-block">Close</button></form></fieldset></div></dialog></div> <div class="dock bg-base-300 max-h-1/11 pt-0.5"><button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Settings</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Home</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Data</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Operators</span></button></div></div>',1);function Er(t,e){ze(e,!0);let l=wt("buggy",[]),r=wt("config",{stations:[],teams:[],operators:[],theme:"dark",handedness:"right",nextIDRoundTime:new Date().toUTCString(),startTime:new Date().toUTCString()}),n=X(F(r.value.theme)),c=X(1),d=X(void 0),v=X(0),D=X(F([])),x=ne(()=>new Date(r.value.nextIDRoundTime)),h=ne(()=>new Date(r.value.startTime)),k=X(!0),_=!1,S=X(!1),g=X(!1),B=X(!1),I=X(!1),f=X(!1),E=X(F(r.value.stations.map(M=>({name:M,buggies:[],followCarSeen:!1})))),P=X(F([])),w=X(F(r.value.stations.map(()=>!1))),T=X(!1),V=ne(()=>r.value.teams),K=X(!1),j=X(!1),U=F([]),ce=ne(()=>r.value.exportPassword!=""),W=X(F(r.value.teams.length>0?r.value.teams[0]:"N/A")),de=M=>y=>{r.value.operators=r.value.operators.map(A=>(A.station==M&&A.isPrimary&&(A.lastId=y),A))},L=()=>{let M=new Date;r.value.nextIDRoundTime=new Date(M.getTime()+10*6e4).toUTCString(),u(k,!a(k))};Ja(()=>{const M=setInterval(()=>{(new Date-a(x))/6e4>10&&(u(T,!0),u(k,!1))},3e4);return()=>clearInterval(M)});let R=M=>{let y={buggies:Ke(a(E)),team:Ke(a(W)),startTime:Ke(a(h)),notes:Ke(a(P)),didId:!1};if(a(w).forEach(A=>{A&&(y.didId=!0)}),M){u(W,F(a(V)[(a(V).indexOf(a(W))+1)%a(V).length]));let A=Ke(l.value);A.push(y),l.value=A}u(E,F(r.value.stations.map(A=>({name:A,buggies:[],followCarSeen:!1})))),u(w,F(r.value.stations.map(()=>!1))),u(P,F([]))};async function J(){try{await navigator.clipboard.writeText(JSON.stringify(Ke(l.value),null,4)),u(g,!0),u(B,!1)}catch(M){console.error(M.message),u(g,!0),u(B,!0),setInterval(()=>{u(g,!1),u(B,!1)},1500)}}function Z(M,y={timeframe:300}){const A="tapOrPress";let H=!1,q,le,$,te=!1;function Se(De){M.dispatchEvent(new CustomEvent(A,{detail:{newState:De}}))}function he(De,Ye){clearTimeout($),H&&y.handler(te),H=!1,te=!1}function fe(De,Ye){return H&&q*q+le*le>=20&&(H=!1),!1}function ie(De,Ye){H||(H=!0,q=Ye.clientX,le=Ye.clientY),$=setTimeout(()=>{te=!0,Se(!0)},y.timeframe)}return fa(A,M,fe,ie,he)}let ve=M=>{M?R(!1):a(D).length>0?U[a(D).pop()].removeLastBuggy():console.log("empty"),u(j,!1)},ee=M=>{let y={stopOrPause:!a(K),time:new Date().toUTCString(),info:""};a(P).push(y),a(d).showModal()},Q=(M,y,A)=>{if(y.number=="1"||y.number=="F"){let Y=new Date(y.time)-M,H=Y/1e3%60;return`@${(Y/1e3-H)/60}:${String(Math.ceil(H)).padStart(2,"0")}`}else{let Y=A[A.indexOf(y)-1],H=new Date(y.time)-new Date(Y.time),q=H/1e3%60;return`+${(H/1e3-q)/60}:${String(Math.floor(q)).padStart(2,"0")}`}},_e=async()=>{let y=[["Position","Call","Name"]].concat(r.value.operators.map($=>[$.station+($.isPrimary?" (Primary)":""),$.callsign,$.name])),A=[["Buggy"].concat(r.value.stations)],Y=r.value.stations.map(()=>""),H=l.value.reduce(($,te)=>{let Se=[[new Date(te.startTime).toLocaleTimeString(),"@",te.team]],he=te.buggies[0].buggies.map(fe=>[fe.number].concat(Y));return te.buggies.forEach((fe,ie)=>{new Date(fe.buggies[0].time),fe.buggies.forEach((De,Ye)=>{he[Ye][ie+1]=Q(new Date(te.startTime),De,fe.buggies)})}),te.notes.forEach((fe,ie)=>{ie==0&&he[0].push("Notes"),he[0].push((fe.stopOrPause?"Stop":"Pause")+" at "+new Date(fe.time).toLocaleString()),he[1].push(fe.info)}),$.concat(Se.concat(A).concat(he))},[]),q=new Date,le={data:y.concat([[]].concat(H)),sheetId:"Rolls "+(q.getMonth()+1).toString()+"_"+q.getDate().toString()};try{(await fetch("https://buggyapp.kandasamyc.com/updateData",{method:"POST",headers:{"Auth-Code":r.value.exportPassword},body:JSON.stringify(le)})).ok?(u(I,!0),u(f,!1)):(u(I,!0),u(f,!0))}catch{u(I,!0),u(f,!0)}setTimeout(()=>{u(I,!1)},3e3)};var be=wr(),pe=Te(be);Me(pe);var Le=o(pe,2),Oe=i(Le),Ae=i(Oe),Ce=i(Ae);ge(Ce,21,()=>a(V),me,(M,y)=>{var A=cr(),Y={},H=i(A,!0);s(A),z(()=>{Y!==(Y=a(y))&&(A.value=(A.__value=a(y))==null?"":a(y)),O(H,a(y))}),C(M,A)}),s(Ce);var Ie=o(Ce,2);const Pe=ne(()=>a(h).getHours().toString().padStart(2,"0")??""),Qe=ne(()=>a(h).getMinutes().toString().padStart(2,"0")??"");var Je=i(Ie);z(()=>O(Je,`Start At: ${a(Pe)}:${a(Qe)}`)),s(Ie);var Ee=o(Ie,2);const $e=ne(()=>a(x).getHours().toString().padStart(2,"0")??""),Fe=ne(()=>a(x).getMinutes().toString().padStart(2,"0")??"");var Ge=i(Ee);z(()=>O(Ge,`Next ID: ${a($e)}:${a(Fe)}`)),s(Ee);var Ve=o(Ee,2),Ne=i(Ve),it=i(Ne,!0);s(Ne),Pt(Ne,(M,y)=>Z(M,y),()=>({handler:ve,timeframe:300})),s(Ve),s(Ae);var Be=o(Ae,2),et=i(Be);ye(et,()=>a(c)==2,M=>{Hl(M,{get exportError(){return a(f)},set exportError(y){u(f,F(y))},get exportSubmitted(){return a(I)},set exportSubmitted(y){u(I,F(y))}})},M=>{var y=Ze(),A=Te(y);ye(A,()=>a(c)==1,Y=>{var H=Ze(),q=Te(H);ge(q,17,()=>a(E),me,(le,$,te)=>{var Se=ne(()=>a(v)!=0?te==0?6:a(E)[te-1].buggies.length:0),he=ne(()=>a(v)!=0?te>0?a(E)[te-1].followCarSeen:!0:!1),fe=ne(()=>de(r.value.stations[te]));ht(fl(le,{get name(){return r.value.stations[te]},get buggies(){return a($).buggies},set buggies(ie){a($).buggies=ie},get idHidden(){return a(k)},get maxBuggies(){return a(Se)},get startTime(){return a(h)},get followRecorded(){return a($).followCarSeen},set followRecorded(ie){a($).followCarSeen=ie},get prevFollowRecorded(){return a(he)},get didID(){return a(w)[te]},set didID(ie){a(w)[te]=ie},get operatorLastIdUpdateFunc(){return a(fe)},get undoList(){return a(D)},set undoList(ie){u(D,F(ie))},idx:te,get config(){return r},set config(ie){r=ie}}),(ie,De)=>U[De]=ie,ie=>U==null?void 0:U[ie],()=>[te])}),C(Y,H)},Y=>{var H=Ze(),q=Te(H);ye(q,()=>a(c)==3,le=>{or(le,{config:r,buggy:l})},le=>{$l(le,{config:r,get selectedTheme(){return a(n)},set selectedTheme($){u(n,F($))}})},!0),C(Y,H)},!0),C(M,y)}),s(Be);var je=o(Be,2),gt=i(je);ye(gt,()=>a(c)==2,M=>{var y=fr(),A=Te(y);A.__click=J;var Y=o(A,2);Y.__click=_e;var H=o(Y,2);ye(H,()=>a(S),q=>{var le=dr();le.__click=()=>{u(S,!1),l.value=[]},C(q,le)},q=>{var le=ur();le.__click=[vr,S],C(q,le)}),z(()=>{ke(A,`btn ${(a(g)?a(B)?"btn-error":"btn-success":"btn-secondary")??""} h-full text-xl`),ke(Y,`btn ${(a(I)?a(f)?"btn-error":"btn-success":"btn-primary")??""} h-full text-xl`),se(Y,"btn-disabled",!a(ce))}),C(M,y)},M=>{var y=Ze(),A=Te(y);ye(A,()=>a(c)==1,Y=>{var H=gr(),q=Te(H),le=i(q);s(q),Pt(q,(fe,ie)=>Z(fe,ie),()=>({timeframe:300,handler:ee}));var $=o(q,2);$.__click=()=>{a(v)>0?R(!0):r.value.startTime=new Date().toUTCString(),u(v,F(a(v)==0?1:0))};var te=i($,!0);s($);var Se=o($,2);Se.__click=L;var he=i(Se);s(Se),z(()=>{se(q,"btn-error",a(v)>0&&!a(K)),se(q,"btn-warning",a(v)>0&&a(K)),se(q,"btn-disabled",a(v)==0),O(le,`Record ${(a(K)?"Pause":"Stop")??""}`),se($,"btn-success",a(v)>0),se($,"btn-primary",a(v)==0),se($,"btn-disabled",a(v)>0&&!a(E)[U.length-1].followCarSeen&&a(P).length==0),O(te,a(v)>0?"Mark Clear":"Start Round"),Se.disabled=_,O(he,`${(a(k)?"Enable":"Hide")??""} IDing`)}),Ot("tapOrPress",q,fe=>{u(K,F(fe))}),C(Y,H)},null,!0),C(M,y)}),s(je);var tt=o(je,2),_t=i(tt),nt=i(_t),at=o(i(nt),2);ge(at,17,()=>a(P),me,(M,y)=>{var A=_r(),Y=Te(A),H=i(Y);z(()=>O(H,`${(a(y).stopOrPause?"Stop":"Pause")??""} at ${new Date(a(y).time).toLocaleTimeString()??""}`)),s(Y);var q=o(Y,2);Me(q),We(q,()=>a(y).info,le=>a(y).info=le),C(M,A)});var ot=o(at,2),lt=i(ot);lt.__click=[br,K],s(ot),s(nt),s(_t),s(tt),ht(tt,M=>u(d,M),()=>a(d)),s(Oe);var bt=o(Oe,2),Ue=i(bt);Ue.__click=[mr,c];var m=i(Ue);oe(m,{icon:Tl}),st(2),s(Ue);var b=o(Ue,2);b.__click=[pr,c];var p=i(b);oe(p,{icon:Il}),st(2),s(b);var N=o(b,2);N.__click=[xr,c];var ue=i(N);oe(ue,{icon:El}),st(2),s(N);var xe=o(N,2);xe.__click=[hr,c];var Re=i(xe);oe(Re,{icon:yt}),st(2),s(xe),s(bt),s(Le),z(()=>{re(pe,"aria-label",a(n)),Za(pe,a(n)),se(Ee,"bg-primary",a(T)),se(Ne,"btn-secondary",!a(j)),se(Ne,"btn-error",a(j)),O(it,a(j)?"Clear":"Undo"),ke(Be,`flex flex-col overflow-y-auto py-3 ${(a(c)==0||a(c)==3?"row-span-10":"row-span-8")??""}`),ke(je,`${(a(c)==0||a(c)==3?"hidden":"row-span-2")??""} grid grid-flow-col grid-cols-3 gap-x-3`),se(Ue,"dock-active",a(c)==0),se(b,"dock-active",a(c)==1),se(N,"dock-active",a(c)==2),se(xe,"dock-active",a(c)==3)}),rt(Ce,()=>a(W),M=>u(W,M)),Ot("tapOrPress",Ne,M=>{u(j,F(M.detail.newState))}),C(t,be),He()}ft(["click"]);export{Er as component};
