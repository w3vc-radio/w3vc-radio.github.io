var ba=Object.defineProperty;var jt=t=>{throw TypeError(t)};var ma=(t,e,l)=>e in t?ba(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ut=(t,e,l)=>ma(t,typeof e!="symbol"?e+"":e,l),pa=(t,e,l)=>e.has(t)||jt("Cannot "+l);var Tt=(t,e,l)=>(pa(t,e,"read from private field"),l?l.call(t):e.get(t)),Yt=(t,e,l)=>e.has(t)?jt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,l);import{a as C,t as V,c as Ze,n as ht}from"../chunks/disclose-version.DbuFNlvV.js";import{I as la,a4 as At,Z as xa,w as wa,l as ha,ap as ra,q as we,A as Dt,B as ya,U as sa,a7 as Sa,a8 as Xt,O as It,v as nt,aq as bt,a5 as ia,m as na,a6 as Ta,D as Da,y as qt,ar as Pt,as as Jt,at as zt,au as Ia,W as ka,$ as Gt,av as Ea,S as Ma,aw as La,o as Aa,x as Ca,P as Oa,J as Na,ax as Ra,M as Pa,a9 as Ht,b as za,aa as Ft,e as Ue,ay as Ha,az as Fa,aA as Ba,aB as ja,aC as Ua,ao as J,g as a,X as g,a as Ya,p as Pe,j as i,k as s,s as c,t as z,i as ze,f as ie,aD as kt,aE as Xa,h as ye,aF as Et,aG as Ke}from"../chunks/runtime.9m-lsYQL.js";import{d as vt,e as Ct,a as O}from"../chunks/store.BOjYO_LN.js";import{c as qa,a as X,p as ae,i as he,b as pt,o as Ja}from"../chunks/index-client.Cx0j_tkv.js";import{i as Ga}from"../chunks/lifecycle.C2CUGHix.js";function Ve(t,e=!1){return mt(t,new Map)}function mt(t,e,l,r){if(typeof t=="object"&&t!==null){const o=e.get(t);if(o!==void 0)return o;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(la(t)){const d=[];e.set(t,d);for(let v=0;v<t.length;v+=1)d.push(mt(t[v],e));return d}if(At(t)===xa){const d={};e.set(t,d);for(var n in t)d[n]=mt(t[n],e);return d}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return mt(t.toJSON(),e)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let Mt=null;function be(t,e){return e}function Va(t,e,l,r){for(var n=[],o=e.length,d=0;d<o;d++)Ea(e[d].e,n,!0);var v=o>0&&n.length===0&&l!==null;if(v){var S=l.parentNode;Ma(S),S.append(l),r.clear(),Ye(t,e[0].prev,e[o-1].next)}La(n,()=>{for(var p=0;p<o;p++){var w=e[p];v||(r.delete(w.k),Ye(t,w.prev,w.next)),Aa(w.e,!v)}})}function fe(t,e,l,r,n,o=null){var d=t,v={flags:e,items:new Map,first:null},S=(e&ra)!==0;if(S){var p=t;d=we?Dt(Ca(p)):p.appendChild(wa())}we&&ya();var w=null,I=!1;ha(()=>{var _=l(),y=la(_)?_:_==null?[]:sa(_),f=y.length;if(I&&f===0)return;I=f===0;let U=!1;if(we){var L=d.data===Sa;L!==(f===0)&&(d=Xt(),Dt(d),It(!1),U=!0)}if(we){for(var u=null,k,R=0;R<f;R++){if(nt.nodeType===8&&nt.data===Oa){d=nt,U=!0,It(!1);break}var h=y[R],T=r(h,R);k=oa(nt,v,u,null,h,T,R,n,e),v.items.set(T,k),u=k}f>0&&Dt(Xt())}if(!we){var K=Na;Ka(y,v,d,n,e,(K.f&bt)!==0,r)}o!==null&&(f===0?w?ia(w):w=na(()=>o(d)):w!==null&&Ta(w,()=>{w=null})),U&&It(!0),l()}),we&&(d=nt)}function Ka(t,e,l,r,n,o,d){var P,G,Q,ve;var v=(n&Ra)!==0,S=(n&(Pt|zt))!==0,p=t.length,w=e.items,I=e.first,_=I,y,f=null,U,L=[],u=[],k,R,h,T;if(v)for(T=0;T<p;T+=1)k=t[T],R=d(k,T),h=w.get(R),h!==void 0&&((P=h.a)==null||P.measure(),(U??(U=new Set)).add(h));for(T=0;T<p;T+=1){if(k=t[T],R=d(k,T),h=w.get(R),h===void 0){var K=_?_.e.nodes_start:l;f=oa(K,e,f,f===null?e.first:f.next,k,R,T,r,n),w.set(R,f),L=[],u=[],_=f.next;continue}if(S&&Wa(h,k,T,n),h.e.f&bt&&(ia(h.e),v&&((G=h.a)==null||G.unfix(),(U??(U=new Set)).delete(h))),h!==_){if(y!==void 0&&y.has(h)){if(L.length<u.length){var Z=u[0],q;f=Z.prev;var Y=L[0],oe=L[L.length-1];for(q=0;q<L.length;q+=1)Vt(L[q],Z,l);for(q=0;q<u.length;q+=1)y.delete(u[q]);Ye(e,Y.prev,oe.next),Ye(e,f,Y),Ye(e,oe,Z),_=Z,f=oe,T-=1,L=[],u=[]}else y.delete(h),Vt(h,_,l),Ye(e,h.prev,h.next),Ye(e,h,f===null?e.first:f.next),Ye(e,f,h),f=h;continue}for(L=[],u=[];_!==null&&_.k!==R;)(o||!(_.e.f&bt))&&(y??(y=new Set)).add(_),u.push(_),_=_.next;if(_===null)continue;h=_}L.push(h),f=h,_=h.next}if(_!==null||y!==void 0){for(var W=y===void 0?[]:sa(y);_!==null;)(o||!(_.e.f&bt))&&W.push(_),_=_.next;var de=W.length;if(de>0){var M=n&ra&&p===0?l:null;if(v){for(T=0;T<de;T+=1)(Q=W[T].a)==null||Q.measure();for(T=0;T<de;T+=1)(ve=W[T].a)==null||ve.fix()}Va(e,W,M,w)}}v&&Da(()=>{var ee;if(U!==void 0)for(h of U)(ee=h.a)==null||ee.apply()}),qt.first=e.first&&e.first.e,qt.last=f&&f.e}function Wa(t,e,l,r){r&Pt&&Jt(t.v,e),r&zt?Jt(t.i,l):t.i=l}function oa(t,e,l,r,n,o,d,v,S){var p=Mt;try{var w=(S&Pt)!==0,I=(S&Ia)===0,_=w?I?ka(n):Gt(n):n,y=S&zt?Gt(d):d,f={i:y,v:_,k:o,a:null,e:null,prev:l,next:r};return Mt=f,f.e=na(()=>v(t,_,y),we),f.e.prev=l&&l.e,f.e.next=r&&r.e,l===null?e.first=f:(l.next=f,l.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{Mt=p}}function Vt(t,e,l){for(var r=t.next?t.next.e.nodes_start:l,n=e?e.e.nodes_start:l,o=t.e.nodes_start;o!==r;){var d=Pa(o);n.before(o),o=d}}function Ye(t,e,l){e===null?t.first=l:(e.next=l,e.e.next=l&&l.e),l!==null&&(l.prev=e,l.e.prev=e&&e.e)}function Ot(t,e,l){Ht(()=>{var r=za(()=>e(t,l==null?void 0:l())||{});if(l&&(r!=null&&r.update)){var n=!1,o={};Ft(()=>{var d=l();Ue(d),n&&Ha(o,d)&&(o=d,r.update(d))}),n=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}let Kt=!1;function ca(){Kt||(Kt=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const l of t.target.elements)(e=l.__on_r)==null||e.call(l)})},{capture:!0}))}function ke(t){if(we){var e=!1,l=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;le(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var n=t.checked;le(t,"checked",null),t.checked=n}}};t.__on_r=l,Fa(l),ca()}}function Za(t,e){var l=t.__attributes??(t.__attributes={});l.value===(l.value=e)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e)}function le(t,e,l,r){var n=t.__attributes??(t.__attributes={});we&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=l)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Ba]=l),l==null?t.removeAttribute(e):typeof l!="string"&&Qa(t).includes(e)?t[e]=l:t.setAttribute(e,l))}var Wt=new Map;function Qa(t){var e=Wt.get(t.nodeName);if(e)return e;Wt.set(t.nodeName,e=[]);for(var l,r=At(t),n=Element.prototype;n!==r;){l=ja(r);for(var o in l)l[o].set&&e.push(o);r=At(r)}return e}function $a(t,e){var l=t.__className,r=da(e);we&&t.getAttribute("class")===r?t.__className=r:(l!==r||we&&t.getAttribute("class")!==r)&&(r===""?t.removeAttribute("class"):t.setAttribute("class",r),t.__className=r)}function Se(t,e){var l=t.__className,r=da(e);we&&t.className===r?t.__className=r:(l!==r||we&&t.className!==r)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function da(t){return t??""}function re(t,e,l){if(l){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function Bt(t,e,l,r=l){t.addEventListener(e,l);const n=t.__on_r;n?t.__on_r=()=>{n(),r()}:t.__on_r=r,ca()}function We(t,e,l=e){var r=Ua();Bt(t,"input",()=>{var n=Zt(t)?Qt(t.value):t.value;l(n),r&&n!==(n=e())&&(t.value=n??"")}),Ft(()=>{var n=e();if(we&&t.defaultValue!==t.value){l(t.value);return}Zt(t)&&n===Qt(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function Lt(t,e,l=e){Bt(t,"change",()=>{var r=t.checked;l(r)}),e()==null&&l(!1),Ft(()=>{var r=e();t.checked=!!r})}function Zt(t){var e=t.type;return e==="number"||e==="range"}function Qt(t){return t===""?null:+t}function va(t,e,l){if(t.multiple)return tl(t,e);for(var r of t.options){var n=ct(r);if(qa(n,e)){r.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function el(t,e){Ht(()=>{var l=new MutationObserver(()=>{var r=t.__value;va(t,r)});return l.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{l.disconnect()}})}function at(t,e,l=e){var r=!0;Bt(t,"change",()=>{var n;if(t.multiple)n=[].map.call(t.querySelectorAll(":checked"),ct);else{var o=t.querySelector(":checked");n=o&&ct(o)}l(n)}),Ht(()=>{var n=e();if(va(t,n,r),r&&n===void 0){var o=t.querySelector(":checked");o!==null&&(n=ct(o),l(n))}t.__value=n,r=!1}),el(t)}function tl(t,e){for(var l of t.options)l.selected=~e.indexOf(ct(l))}function ct(t){return"__value"in t?t.__value:t.value}const al=300,ll=4,rl="none";function sl(t){return Array.isArray(t)?t:[t]}function ot(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}function il(t,e){return e.filter(l=>t.pointerId!==l.pointerId)}function _t(t,e,l,r,n){const o=t.getBoundingClientRect(),d=Math.round(l.clientX-o.left),v=Math.round(l.clientY-o.top);t.dispatchEvent(new CustomEvent(`${e}${n}`,{detail:{event:l,pointersCount:r.length,target:l.target,x:d,y:v}}))}function ua(t,e,l,r,n,o=rl){e.style.touchAction=sl(o).join(" ");let d=[];function v(p){d.push(p),_t(e,t,p,d,"down"),r==null||r(d,p);const w=p.pointerId;function I(u){w===u.pointerId&&(d=il(u,d),d.length||_(),_t(e,t,u,d,"up"),n==null||n(d,u))}function _(){y(),f(),U(),L()}const y=ot(e,"pointermove",u=>{d=d.map(k=>u.pointerId===k.pointerId?u:k),_t(e,t,u,d,"move"),l==null||l(d,u)}),f=ot(e,"lostpointercapture",u=>{I(u)}),U=ot(e,"pointerup",u=>{I(u)}),L=ot(e,"pointerleave",u=>{d=[],_(),_t(e,t,u,d,"up"),n==null||n(d,u)})}const S=ot(e,"pointerdown",v);return{destroy:()=>{S()}}}function nl(t,e){const l={composed:!1,timeframe:al,triggerBeforeFinished:!1,spread:ll,touchAction:"auto",...e};t.style.userSelect="none",t.oncontextmenu=L=>{L.preventDefault()};const r="press";let n,o,d;const v={x:0,y:0};let S,p=!1,w=!1;function I(L,u,k){if(Math.abs(L-o)<l.spread&&Math.abs(u-d)<l.spread&&Date.now()-n>l.timeframe){const R=t.getBoundingClientRect(),h=Math.round(L-R.left),T=Math.round(u-R.top);w=!0,t.dispatchEvent(new CustomEvent(r,{detail:{x:h,y:T,target:k.target,pointerType:k.pointerType}}))}}function _(L,u){clearTimeout(S),p||I(u.clientX,u.clientY,u)}function y(L,u){return v.x=u.clientX,v.y=u.clientY,w}function f(L,u){w=!1,o=u.clientX,d=u.clientY,n=Date.now(),p=!1,v.x=u.clientX,v.y=u.clientY,l.triggerBeforeFinished&&(S=setTimeout(()=>{p=!0,I(v.x,v.y,u)},l.timeframe+1))}const U=ua(r,t,y,f,_,l.touchAction);return l.composed?{onMove:y,onDown:f,onUp:_}:{destroy:()=>{U.destroy(),clearTimeout(S)}}}var dt;class ol{constructor(e,l){Yt(this,dt,J());Ut(this,"key","");this.key=e,this.value=l;{const r=localStorage.getItem(e);r&&(this.value=this.deserialize(r))}Ya(()=>{localStorage.setItem(this.key,this.serialize(this.value))})}get value(){return a(Tt(this,dt))}set value(e){g(Tt(this,dt),X(e))}update(){{const e=localStorage.getItem(this.key);e&&(this.value=this.deserialize(e))}}serialize(e){return JSON.stringify(e)}deserialize(e){return JSON.parse(e)}}dt=new WeakMap;function xt(t,e){return new ol(t,e)}const cl=(t,e,l)=>{e(!e()),l.operatorLastIdUpdateFunc(new Date().toUTCString())};var dl=V('<div class="text-light bg-base-300 flex flex-initial flex-row justify-around space-x-1 rounded-sm px-1 shadow-xl"><div class="my-auto font-mono text-xl italic"> </div> <div class="my-auto font-mono text-xl"> </div></div>'),vl=(t,e,l,r)=>{a(e)?(l(),g(e,!1)):r()},ul=V('<div class="grid shrink-0 basis-1/3 grid-flow-row grid-cols-12 py-3"><div class="col-span-1 [text-orientation:sideways] [writing-mode:vertical-lr]"><div class="rotate-180 touch-manipulation text-center"><div class="flex flex-row items-center justify-center gap-3"><div class="inline-grid *:[grid-area:1/1]"><div></div></div> <p> </p></div></div></div> <div class="col-span-7 grid grid-flow-col grid-cols-2 grid-rows-3 gap-x-1 gap-y-1.5 overflow-hidden p-1"></div> <div class="col-span-4 mx-2 flex flex-col space-y-1"><div class="flex grow-10 flex-row gap-2"><button class="btn h-full grow text-lg"> </button></div> <button> </button></div></div>');function fl(t,e){Pe(e,!0);let l=ae(e,"followRecorded",15),r=ae(e,"didID",15),n=ie(()=>e.buggies.length.valueOf()),o=ie(()=>!l()&&a(n)<Math.min(6,e.maxBuggies-e.prevFollowRecorded)),d=ie(()=>!l()&&e.prevFollowRecorded),v=J(!1),S=M=>{a(o)&&(e.buggies.push({time:new Date,number:e.buggies.length+1}),e.undoList.push(e.idx))},p=M=>{a(d)&&(e.buggies.push({time:new Date,number:"F"}),l(!0),e.undoList.push(e.idx))};const w=()=>{l()&&l(!1),e.buggies.pop()};let I=M=>{if(M.number=="1"||M.number=="F"){let P=M.time-e.startTime,G=P/1e3%60;return`@${(P/1e3-G)/60}:${String(Math.ceil(G)).padStart(2,"0")}`}else{let P=e.buggies[e.buggies.indexOf(M)-1],G=M.time-P.time,Q=G/1e3%60;return`+${(G/1e3-Q)/60}:${String(Math.floor(Q)).padStart(2,"0")}`}},_=M=>{let P=!1,G=!1,Q=new Date;return e.config.value.operators.forEach(ve=>{if(ve.station==M){let ee=Math.max(Math.floor((Q-new Date(ve.lastId))/6e4),0);ve.isPrimary&&ee>=12?P=!0:ee>=12&&(G=!0)}}),P?"status-error":G?"status-warning":"status-success"},y=J(X(_(e.name)));setTimeout(()=>g(y,X(_(e.name))),6e4);var f=ul(),U=i(f),L=i(U),u=i(L),k=i(u),R=i(k);s(k);var h=c(k,2),T=i(h,!0);s(h),s(u),s(L),s(U);var K=c(U,2);fe(K,21,()=>e.buggies,M=>M.number,(M,P)=>{var G=dl(),Q=i(G),ve=i(Q,!0);s(Q);var ee=c(Q,2),$=i(ee,!0);z(()=>O($,I(a(P)))),s(ee),s(G),z(()=>O(ve,a(P).number)),C(M,G)}),s(K);var Z=c(K,2),q=i(Z),Y=i(q);Y.__click=[vl,v,p,S];var oe=i(Y);s(Y),Ot(Y,(M,P)=>nl(M,P),()=>({timeframe:300,triggerBeforeFinished:!0})),s(q);var W=c(q,2);W.__click=[cl,r,e];var de=i(W,!0);return s(W),s(Z),s(f),z(()=>{Se(R,`status ${a(y)??""}`),O(T,e.name),Y.disabled=!a(o)&&!a(d),re(Y,"btn-primary",a(o)||a(d)),O(oe,`Record ${(a(o)&&!a(v)?e.buggies.length+1:"F")??""}`),Se(W,`btn ${(r()?"btn-success":"btn-secondary")??""} grow-1 text-xl`),re(W,"hidden",e.idHidden),O(de,r()?"ID'd":"ID?")}),Ct("press",Y,()=>{g(v,!0)}),C(t,f),ze({removeLastBuggy:w})}vt(["click"]);var gl=V('<div class="text-light bg-base-300 flex flex-initial flex-row justify-around space-x-1 rounded-sm px-1 shadow-xl"><div class="my-auto text-xl"> </div> <div class="my-auto font-mono text-xl"> </div></div>'),_l=V('<fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"> </legend> <div class="flex flex-row gap-2"></div></fieldset>');function bl(t,e){Pe(e,!0);let l=(v,S,p)=>{if(v.number=="1"||v.number=="F"){let w=new Date(v.time)-e.startTime,I=w/1e3%60;return`@${(w/1e3-I)/60}:${String(Math.ceil(I)).padStart(2,"0")}`}else{let w=p[p.indexOf(v)-1],I=new Date(v.time)-new Date(w.time),_=I/1e3%60;return`+${(I/1e3-_)/60}:${String(Math.floor(_)).padStart(2,"0")}`}};var r=_l(),n=i(r),o=i(n,!0);s(n);var d=c(n,2);fe(d,21,()=>e.buggies,be,(v,S,p)=>{var w=gl(),I=i(w),_=i(I,!0);s(I);var y=c(I,2),f=i(y,!0);z(()=>O(f,l(a(S),p,e.buggies))),s(y),s(w),z(()=>O(_,a(S).number)),C(v,w)}),s(d),s(r),z(()=>O(o,e.name)),C(t,r),ze()}function $t(t,e){e&&e!=="lg"&&e!=="sm"&&e!=="xs"?t.style.fontSize=e.replace("x","em"):t.style.fontSize=""}function ml(t,e,l,r,n,o=1,d="",v=""){let S=1,p=1;n&&(n=="horizontal"?S=-1:n=="vertical"?p=-1:S=p=-1),typeof t=="string"&&(t=parseFloat(t)),typeof e=="string"&&(e=parseFloat(e)),typeof l=="string"&&(l=parseFloat(l));const w=`${e*o}${d}`,I=`${l*o}${d}`;let _=`translate(${w},${I}) scale(${S*t},${p*t})`;return r&&(_+=` rotate(${r}${v})`),_}var pl=ht('<title class="svelte-bvo74f"> </title>'),xl=ht('<path class="svelte-bvo74f"></path>'),wl=ht('<path class="svelte-bvo74f"></path><path class="svelte-bvo74f"></path>',1),hl=ht('<svg aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-bvo74f"><g class="svelte-bvo74f"><!></g></g></svg>');function ne(t,e){Pe(e,!1);const l=Et(),r=Et();let n=ae(e,"class",24,()=>{}),o=ae(e,"id",24,()=>{}),d=ae(e,"style",24,()=>{}),v=ae(e,"icon",8),S=ae(e,"title",24,()=>{}),p=ae(e,"size",24,()=>{}),w=ae(e,"color",24,()=>{}),I=ae(e,"fw",8,!1),_=ae(e,"pull",24,()=>{}),y=ae(e,"scale",8,1),f=ae(e,"translateX",8,0),U=ae(e,"translateY",8,0),L=ae(e,"rotate",24,()=>{}),u=ae(e,"flip",24,()=>{}),k=ae(e,"spin",8,!1),R=ae(e,"pulse",8,!1),h=ae(e,"primaryColor",8,""),T=ae(e,"secondaryColor",8,""),K=ae(e,"primaryOpacity",8,1),Z=ae(e,"secondaryOpacity",8,.4),q=ae(e,"swapOpacity",8,!1),Y=Et();kt(()=>(a(Y),Ue(p()),$t),()=>{a(Y)&&p()&&$t(a(Y),p())}),kt(()=>Ue(v()),()=>{g(l,v()&&v().icon||[0,0,"",[],""])}),kt(()=>(Ue(y()),Ue(f()),Ue(U()),Ue(L()),Ue(u())),()=>{g(r,ml(y(),f(),U(),L(),u(),512))}),Xa(),Ga();var oe=Ze(),W=ye(oe);he(W,()=>a(l)[4],de=>{var M=hl(),P=i(M);he(P,S,ee=>{var $=pl(),ge=i($,!0);s($),z(()=>O(ge,S())),C(ee,$)});var G=c(P),Q=i(G),ve=i(Q);he(ve,()=>typeof a(l)[4]=="string",ee=>{var $=xl();z(()=>{le($,"d",a(l)[4]),le($,"fill",w()||h()||"currentColor"),le($,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`)}),C(ee,$)},ee=>{var $=wl(),ge=ye($),_e=c(ge);z(()=>{le(ge,"d",a(l)[4][0]),le(ge,"fill",T()||w()||"currentColor"),le(ge,"fill-opacity",q()!=!1?K():Z()),le(ge,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`),le(_e,"d",a(l)[4][1]),le(_e,"fill",h()||w()||"currentColor"),le(_e,"fill-opacity",q()!=!1?Z():K()),le(_e,"transform",`translate(${a(l)[0]/-2} ${a(l)[1]/-2})`)}),C(ee,$)}),s(Q),s(G),s(M),pt(M,ee=>g(Y,ee),()=>a(Y)),z(()=>{le(M,"id",o()),$a(M,`svelte-fa svelte-fa-base ${n()??""} svelte-bvo74f`),le(M,"style",d()),le(M,"viewBox",`0 0 ${a(l)[0]??""} ${a(l)[1]??""}`),re(M,"pulse",R()),re(M,"svelte-fa-size-lg",p()==="lg"),re(M,"svelte-fa-size-sm",p()==="sm"),re(M,"svelte-fa-size-xs",p()==="xs"),re(M,"svelte-fa-fw",I()),re(M,"svelte-fa-pull-left",_()==="left"),re(M,"svelte-fa-pull-right",_()==="right"),re(M,"spin",k()),le(G,"transform",`translate(${a(l)[0]/2} ${a(l)[1]/2})`),le(G,"transform-origin",`${a(l)[0]/4} 0`),le(Q,"transform",a(r))}),C(de,M)}),C(t,oe),ze()}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const yl={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},Sl={prefix:"fas",iconName:"sitemap",icon:[576,512,[],"f0e8","M208 80c0-26.5 21.5-48 48-48l64 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-8 0 0 40 152 0c30.9 0 56 25.1 56 56l0 32 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-32c0-4.4-3.6-8-8-8l-152 0 0 40 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-40-152 0c-4.4 0-8 3.6-8 8l0 32 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-32c0-30.9 25.1-56 56-56l152 0 0-40-8 0c-26.5 0-48-21.5-48-48l0-64z"]},wt={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},Tl={prefix:"fas",iconName:"id-badge",icon:[384,512,[],"f2c1","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zm96 320l64 0c44.2 0 80 35.8 80 80c0 8.8-7.2 16-16 16L96 416c-8.8 0-16-7.2-16-16c0-44.2 35.8-80 80-80zm-32-96a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM144 64l96 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-96 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Dl={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Nt={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Rt={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96l576 0c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96zm0 32L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-288L0 128zM64 405.3c0-29.5 23.9-53.3 53.3-53.3l117.3 0c29.5 0 53.3 23.9 53.3 53.3c0 5.9-4.8 10.7-10.7 10.7L74.7 416c-5.9 0-10.7-4.8-10.7-10.7zM176 192a64 64 0 1 1 0 128 64 64 0 1 1 0-128zm176 16c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},Il={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},kl=Il,ea={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},El={prefix:"fas",iconName:"inbox",icon:[512,512,[],"f01c","M121 32C91.6 32 66 52 58.9 80.5L1.9 308.4C.6 313.5 0 318.7 0 323.9L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-92.1c0-5.2-.6-10.4-1.9-15.5l-57-227.9C446 52 420.4 32 391 32L121 32zm0 64l270 0 48 192-51.2 0c-12.1 0-23.2 6.8-28.6 17.7l-14.3 28.6c-5.4 10.8-16.5 17.7-28.6 17.7l-120.4 0c-12.1 0-23.2-6.8-28.6-17.7l-14.3-28.6c-5.4-10.8-16.5-17.7-28.6-17.7L73 288 121 96z"]},ta={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},fa={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Ml={prefix:"fas",iconName:"sign-hanging",icon:[512,512,["sign"],"f4d9","M96 0c17.7 0 32 14.3 32 32l0 32 352 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-352 0 0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352-32 0C14.3 128 0 113.7 0 96S14.3 64 32 64l32 0 0-32C64 14.3 78.3 0 96 0zm96 160l256 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32z"]},Ll=Ml,Al={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]};var Cl=(t,e)=>e.removeEntry(e.idx),Ol=V('<label id="org-select" class="fieldset-label text-base"> </label> <input type="text" class="input">',1),Nl=V('<fieldset class="fieldset bg-base-100 border-base-300 roundoed-box w-full border p-4"><legend class="fieldset-legend text-lg">Stop/Pause Notes</legend> <!></fieldset>'),Rl=V('<div class="card bg-base-300 my-2 flex flex-col p-4"><div class="flex w-full flex-row justify-between"><p class="badge badge-primary badge-xl"><!> </p> <p class="badge badge-secondary badge-xl"><!> </p> <p class="badge badge-info badge-xl"><!> </p> <button class="btn btn-warning btn-sm"><!></button></div> <!> <!></div>');function Pl(t,e){Pe(e,!0);let l=X(e.round);var r=Rl(),n=i(r),o=i(n),d=i(o);ne(d,{icon:Sl});var v=c(d,1,!0);s(o);var S=c(o,2),p=i(S);ne(p,{icon:Nt});const w=ie(()=>new Date(l.startTime).getHours().toString().padStart(2,"0")??""),I=ie(()=>new Date(l.startTime).getMinutes().toString().padStart(2,"0")??"");var _=c(p);z(()=>O(_,`${a(w)}:${a(I)}`)),s(S);var y=c(S,2),f=i(y);ne(f,{icon:Tl});var U=c(f,1,!0);s(y);var L=c(y,2);L.__click=[Cl,e];var u=i(L);ne(u,{icon:fa,scale:"1.5x"}),s(L),s(n);var k=c(n,2);fe(k,17,()=>l.buggies,be,(h,T)=>{var K=ie(()=>new Date(l.startTime));bl(h,{get name(){return a(T).name},get buggies(){return a(T).buggies},get startTime(){return a(K)}})});var R=c(k,2);he(R,()=>l.notes.length>0,h=>{var T=Nl(),K=c(i(T),2);fe(K,17,()=>l.notes,be,(Z,q)=>{var Y=Ol(),oe=ye(Y),W=i(oe);z(()=>O(W,`${(a(q).stopOrPause?"Stop":"Pause")??""} at ${new Date(a(q).time).toLocaleTimeString()??""}`)),s(oe);var de=c(oe,2);ke(de),We(de,()=>a(q).info,M=>a(q).info=M),C(Z,Y)}),s(T),C(h,T)}),s(r),z(()=>{O(v,l.team),O(U,l.didID?"Y":"N")}),C(t,r),ze()}vt(["click"]);var zl=V('<div class="row-span-3 flex flex-col overflow-scroll"></div>');function Hl(t,e){Pe(e,!0);let l=xt("buggy",[]);xt("config",[]);let r=d=>{let v=Ve(l.value);v.splice(v.length-1-d,1),l.value=v},n=(d,v)=>{l.value[d]=v};var o=zl();fe(o,21,()=>l.value.toReversed(),be,(d,v,S)=>{var p=ie(()=>l.value.length-S);Pl(d,{get round(){return l.value[S]},get idx(){return a(p)},removeEntry:r,updateEntry:n})}),s(o),C(t,o),ze()}var Fl=(t,e)=>e(),Bl=(t,e,l,r)=>e(a(l),r),jl=V("<option> </option>"),Ul=V('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><span class="text-xl"> </span> <div class="flex w-1/3 flex-row justify-between"><button class="btn btn-sm btn-info min-w-[1rem]"><!></button> <button class="btn btn-sm btn-info color-white"><!></button></div></div></div>'),Yl=(t,e,l,r)=>e(a(l),r),Xl=V("<option> </option>"),ql=V('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><span class="text-xl"> </span> <div class="flex w-1/3 flex-row justify-between"><button class="btn btn-sm btn-info min-w-[1rem]"><!></button> <button class="btn btn-sm btn-info color-white"><!></button></div></div></div>'),Jl=V("<option> </option>"),Gl=(t,e,l,r,n,o)=>{a(e).length>0&&a(l).length>0&&a(r).length>0&&(n.push({name:a(e),callsign:a(l),lastId:new Date().toUTCString(),station:a(r),isPrimary:a(o)}),g(e,""),g(l,""),g(r,""),g(o,!1))},Vl=V('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-2/3 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <div class="flex h-full w-1/3 flex-col justify-between gap-1"><button class="btn btn-xs btn-error min-w-[1rem] grow-1"><!></button> <button class="btn btn-sm btn-info grow-2"><!></button></div></div></div>'),Kl=V("<option> </option>"),Wl=(t,e,l,r,n,o,d,v)=>{e[a(l)]={name:a(r),callsign:a(n),station:a(o),lastId:a(d).lastId,isPrimary:a(v)},g(r,""),g(n,""),g(o,""),g(v,!1)},Zl=V("<option> </option>"),Ql=V('<div class="row-span-3 flex flex-col overflow-scroll"><div class="mx-auto w-7/8"><button class="btn btn-primary btn-block mt-4 w-full text-xl">Save</button> <div role="alert" class="alert alert-error mt-2 mb-1 py-1"><!> <span class="text-lg"> </span></div> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Teams</legend> <label id="org-select" class="fieldset-label text-base">Select Orgs</label> <select id="org-select" class="select select-lg" multiple></select> <label id="org-select" class="fieldset-label text-base">Set Roll Order</label> <div class="flex flex-col gap-2"></div></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Stations</legend> <label id="org-select" class="fieldset-label text-base">Select Stations</label> <select id="org-select" class="select select-lg" multiple></select> <label id="org-select" class="fieldset-label text-base">Set Station Order</label> <div class="flex flex-col gap-2"></div></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Operators</legend> <fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Add Operator</legend> <label id="org-select" class="fieldset-label text-base">Operator Name</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Operator Callsign</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Select Station</label> <select class="select"><!><option>Rover</option></select> <label class="fieldset-label text-base">Should be primary? <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <button class="btn btn-secondary btn-block">Save Operator</button></fieldset> <label id="org-select" class="fieldset-label text-base">Assign Operators</label> <div class="flex flex-col gap-2"></div> <dialog class="modal"><div class="modal-box"><fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Edit Operator</legend> <label id="org-select" class="fieldset-label text-base">Operator Name</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Operator Callsign</label> <input type="text" class="input"> <label id="org-select" class="fieldset-label text-base">Select Station</label> <select class="select"></select> <label class="fieldset-label text-base">Should be primary? <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <form method="dialog"><button class="btn btn-secondary btn-block">Save Operator</button></form></fieldset></div></dialog></fieldset> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Misc</legend> <label class="fieldset-label text-lg">Flip Handedness <input type="checkbox" class="toggle toggle-xl bg-transparent! bg-none"></label> <label class="fieldset-label text-base">Select Theme</label> <select class="select select-lg"><option selected>default</option><!></select> <label class="fieldset-label text-base">Export Password</label> <input type="text" class="input"></fieldset></div></div>');function $l(t,e){Pe(e,!0);let l=ae(e,"config",7),r=ae(e,"selectedTheme",15),n=J(X(l().value.teams)),o=X(l().value.teams),d=J(X(l().value.stations)),v=X(l().value.stations),S=J(!1),p=X(l().value.operators),w=J(X(l().value.exportPassword)),I=J(""),_=J(""),y=J(""),f=J(!1),U=J(void 0),L=J(void 0),u=J(void 0),k=J(""),R=["AEPi","Apex","Atlas","CIA","DG","Fringe","PiKA","Robobuggy","SAE","SDC","SigEp","SigNu","Spirit"],h=["Net","Panther","Chute","Start","Finish","Broadcast","TV","Westinghouse","Monument","Scaife","Chair Shadow","Safety Shadow"],T=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autum","business","acid","lemonade","night","coffee","winter","dim","nord","sunset","caramellatte","abyss","silk"];function K(b,m,x){for(;m<0;)m+=b.length;for(;x<0;)x+=b.length;if(x>=b.length)for(var B=x-b.length+1;(B-=1)+1;)b.push(void 0);return b.splice(x,0,b.splice(m,1)[0]),b}function Z(b,m){K(b,m,Math.max(m-1,0))}function q(b,m){K(b,m,Math.min(m+1,b.length-1))}function Y(b,m){m.forEach(x=>{b.includes(x)||m.splice(m.indexOf(x),1)}),b.forEach(x=>{m.includes(x)||m.push(x)})}function oe(){let b=!0;v.forEach(m=>{let x=!1;p.forEach(B=>{B.station==m&&B.isPrimary&&(x=!0)}),b=b&&x}),b?(l().value.teams=o,l().value.stations=v,l().value.operators=p,l().value.theme=r(),l().value.handedness=a(S),l().value.exportPassword=a(w),g(k,"")):g(k,"All stations need primary operator")}var W=Ql(),de=i(W),M=i(de);M.__click=[Fl,oe];var P=c(M,2),G=i(P);ne(G,{icon:Al});var Q=c(G,2),ve=i(Q,!0);s(Q),s(P);var ee=c(P,2),$=c(i(ee),4);$.__change=[Bl,Y,n,o],fe($,21,()=>R,be,(b,m)=>{var x=jl(),B={},ue=i(x,!0);s(x),z(()=>{le(x,"id",a(m)),B!==(B=a(m))&&(x.value=(x.__value=a(m))==null?"":a(m)),O(ue,a(m))}),C(b,x)}),s($);var ge=c($,4);fe(ge,21,()=>o,be,(b,m,x)=>{var B=Ul(),ue=i(B),D=i(ue),E=i(D,!0);s(D);var A=c(D,2),H=i(A);H.__click=()=>Z(o,x);var j=i(H);ne(j,{icon:ta,scale:1.2,class:"bg-light"}),s(H);var N=c(H,2);N.__click=()=>q(o,x);var F=i(N);ne(F,{icon:ea,scale:1.2,class:"bg-light"}),s(N),s(A),s(ue),s(B),z(()=>O(E,a(m))),C(b,B)}),s(ge),s(ee);var _e=c(ee,2),me=c(i(_e),4);me.__change=[Yl,Y,d,v],fe(me,21,()=>h,be,(b,m)=>{var x=Xl(),B={},ue=i(x,!0);s(x),z(()=>{le(x,"id",a(m)),B!==(B=a(m))&&(x.value=(x.__value=a(m))==null?"":a(m)),O(ue,a(m))}),C(b,x)}),s(me);var Ee=c(me,4);fe(Ee,21,()=>v,be,(b,m,x)=>{var B=ql(),ue=i(B),D=i(ue),E=i(D,!0);s(D);var A=c(D,2),H=i(A);H.__click=()=>Z(v,x);var j=i(H);ne(j,{icon:ta,scale:1.2,class:"bg-light"}),s(H);var N=c(H,2);N.__click=()=>q(v,x);var F=i(N);ne(F,{icon:ea,scale:1.2,class:"bg-light"}),s(N),s(A),s(ue),s(B),z(()=>O(E,a(m))),C(b,B)}),s(Ee),s(_e);var Oe=c(_e,2),Me=c(i(Oe),2),Le=c(i(Me),4);ke(Le);var De=c(Le,4);ke(De);var Ne=c(De,4),Qe=i(Ne);fe(Qe,17,()=>v,be,(b,m)=>{var x=Jl(),B={},ue=i(x,!0);s(x),z(()=>{le(x,"id",a(m)),B!==(B=a(m))&&(x.value=(x.__value=a(m))==null?"":a(m)),O(ue,a(m))}),C(b,x)}),Ke(),s(Ne);var Xe=c(Ne,2),Ie=c(i(Xe));ke(Ie),s(Xe);var $e=c(Xe,2);$e.__click=[Gl,I,_,y,p,f],s(Me);var He=c(Me,4);fe(He,21,()=>p,be,(b,m,x)=>{var B=Vl(),ue=i(B),D=i(ue),E=i(D),A=i(E),H=ie(()=>`w-1/8  ${(a(m).isPrimary?"text-info":"")??""}`);ne(A,{icon:wt,get class(){return a(H)}});var j=c(A,2),N=i(j,!0);s(j),s(E);var F=c(E,2),te=i(F);ne(te,{icon:Rt,class:"w-1/8"});var ce=c(te,2),pe=i(ce,!0);s(ce),s(F);var xe=c(F,2),Te=i(xe);ne(Te,{icon:Ll,class:"w-1/8"});var se=c(Te,2),Ce=i(se,!0);s(se),s(xe),s(D);var Ge=c(D,2),gt=i(Ge);gt.__click=()=>p.splice(x,1);var ga=i(gt);ne(ga,{icon:fa,scale:1.2}),s(gt);var St=c(gt,2);St.__click=()=>{g(L,X(a(m))),g(I,X(a(L).name)),g(_,X(a(L).callsign)),g(y,X(a(L).station)),g(f,X(a(L).isPrimary)),g(u,X(x)),a(U).showModal()};var _a=i(St);ne(_a,{icon:yl,scale:1.2}),s(St),s(Ge),s(ue),s(B),z(()=>{O(N,a(m).name),O(pe,a(m).callsign),O(Ce,a(m).station)}),C(b,B)}),s(He);var qe=c(He,2),Je=i(qe),Re=i(Je),lt=c(i(Re),4);ke(lt);var Fe=c(lt,4);ke(Fe);var et=c(Fe,4);fe(et,21,()=>v,be,(b,m)=>{var x=Kl(),B={},ue=i(x,!0);s(x),z(()=>{le(x,"id",a(m)),B!==(B=a(m))&&(x.value=(x.__value=a(m))==null?"":a(m)),O(ue,a(m))}),C(b,x)}),s(et);var Be=c(et,2),ut=c(i(Be));ke(ut),s(Be);var tt=c(Be,2),ft=i(tt);ft.__click=[Wl,p,u,I,_,y,L,f],s(tt),s(Re),s(Je),s(qe),pt(qe,b=>g(U,b),()=>a(U)),s(Oe);var rt=c(Oe,2),st=c(i(rt),2),it=c(i(st));ke(it),s(st);var Ae=c(st,4),yt=c(i(Ae));fe(yt,17,()=>T,be,(b,m)=>{var x=Zl(),B={},ue=i(x,!0);s(x),z(()=>{le(x,"id",a(m)),B!==(B=a(m))&&(x.value=(x.__value=a(m))==null?"":a(m)),O(ue,a(m))}),C(b,x)}),s(Ae);var je=c(Ae,4);ke(je),s(rt),s(de),s(W),z(()=>{re(P,"hidden",a(k).length==0),O(ve,a(k)),Ie.disabled=a(y)=="Rover"}),at($,()=>a(n),b=>g(n,b)),at(me,()=>a(d),b=>g(d,b)),We(Le,()=>a(I),b=>g(I,b)),We(De,()=>a(_),b=>g(_,b)),at(Ne,()=>a(y),b=>g(y,b)),Lt(Ie,()=>a(f),b=>g(f,b)),We(lt,()=>a(I),b=>g(I,b)),We(Fe,()=>a(_),b=>g(_,b)),at(et,()=>a(y),b=>g(y,b)),Lt(ut,()=>a(f),b=>g(f,b)),Lt(it,()=>a(S),b=>g(S,b)),at(Ae,r),We(je,()=>a(w),b=>g(w,b)),C(t,W),ze()}vt(["click","change"]);var er=V("<div></div>"),tr=(t,e)=>e.idFunc(e.idx),ar=V('<div class="flex h-full w-1/2 flex-col justify-between gap-1"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><!> <div></div></div> <span class=" text-base"> </span></div> <button>ID</button></div>');function aa(t,e){Pe(e,!0);let l=J(X(new Date)),r=ie(()=>Math.max(Math.floor((a(l)-new Date(e.lastId))/6e4),0)),n=8,o=12;setTimeout(()=>g(l,X(new Date)),6e4);var d=ar(),v=i(d),S=i(v),p=i(S);he(p,()=>a(r)>=n,f=>{var U=er();z(()=>Se(U,`status ${(a(r)>=o?"status-error":a(r)>=n?"status-warning":"status-success")??""} animate-ping`)),C(f,U)});var w=c(p,2);s(S);var I=c(S,2),_=i(I);s(I),s(v);var y=c(v,2);y.__click=[tr,e],s(d),z(()=>{Se(w,`status ${(a(r)>=o?"status-error":a(r)>=n?"status-warning":"status-success")??""}`),O(_,`ID'd ${a(r)??""}m ago`),Se(y,`btn btn-block btn-lg mb-1 grow-1 ${(a(r)>=n?"btn-primary":"btn-secondary")??""}`)}),C(t,d),ze()}vt(["click"]);var lr=V("<div></div>"),rr=V('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-1/2 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <!></div></div>'),sr=V('<fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><!> <div></div></div> <span class=" text-base"> </span></div></legend> <label class="fieldset-label text-base">Individual Statuses</label> <div class="flex flex-col gap-2"></div></fieldset>'),ir=V('<div class="card bg-neutral card-md w-full"><div class="card-body flex w-full flex-row items-baseline justify-between py-2"><div class="flex h-full w-1/2 flex-col"><div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div> <div class="flex flex-row items-center justify-start gap-2"><!> <span class="overflow-x-scroll text-lg"> </span></div></div> <!></div></div>'),nr=V('<div class="row-span-3 flex flex-col overflow-scroll"><div class="mx-auto w-7/8"><!> <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg"><div class="flex min-w-[1rem] grow-1 flex-row items-center gap-2"><div class="inline-grid *:[grid-area:1/1]"><div></div> <div></div></div> <span class=" text-base">Rover Operators</span></div></legend> <label class="fieldset-label text-base">Individual Statuses</label> <div class="flex flex-col gap-2"></div></fieldset></div></div>');function or(t,e){Pe(e,!0);let l=ae(e,"config",7),r=u=>{l().value.operators[u].lastId=new Date().toUTCString()},n=u=>{let k=!1,R=!1,h=new Date;return l().value.operators.forEach(T=>{if(T.station==u){let K=Math.max(Math.floor((h-new Date(T.lastId))/6e4),0);T.isPrimary&&K>=12?k=!0:K>=12&&(R=!0)}}),k?"status-error":R?"status-warning":"status-success"},o=ie(()=>l().value.stations.map(n)),d=ie(()=>n("Rover"));var v=nr(),S=i(v),p=i(S);fe(p,17,()=>l().value.stations,be,(u,k,R)=>{var h=sr(),T=i(h),K=i(T),Z=i(K),q=i(Z);he(q,()=>a(o)[R]=="status-error",M=>{var P=lr();z(()=>Se(P,`status ${a(o)[R]??""} animate-ping`)),C(M,P)});var Y=c(q,2);s(Z);var oe=c(Z,2),W=i(oe);s(oe),s(K),s(T);var de=c(T,4);fe(de,21,()=>l().value.operators,be,(M,P,G)=>{var Q=Ze(),ve=ye(Q);he(ve,()=>a(P).station==a(k),ee=>{var $=rr(),ge=i($),_e=i(ge),me=i(_e),Ee=i(me),Oe=ie(()=>`w-1/8 ${(a(P).isPrimary?"text-info":"")??""}`);ne(Ee,{icon:wt,get class(){return a(Oe)}});var Me=c(Ee,2),Le=i(Me,!0);s(Me),s(me);var De=c(me,2),Ne=i(De);ne(Ne,{icon:Rt,class:"w-1/8"});var Qe=c(Ne,2),Xe=i(Qe,!0);s(Qe),s(De);var Ie=c(De,2),$e=i(Ie);ne($e,{icon:Nt,class:"w-1/8"});var He=c($e,2),qe=i(He,!0);z(()=>O(qe,new Date(a(P).lastId).toLocaleTimeString())),s(He),s(Ie),s(_e);var Je=c(_e,2);aa(Je,{get lastId(){return a(P).lastId},idx:G,idFunc:r}),s(ge),s($),z(()=>{O(Le,a(P).name),O(Xe,a(P).callsign)}),C(ee,$)}),C(M,Q)}),s(de),s(h),z(()=>{Se(Y,`status ${a(o)[R]??""}`),O(W,`${a(k)??""} Operators`)}),C(u,h)});var w=c(p,2),I=i(w),_=i(I),y=i(_),f=i(y),U=c(f,2);s(y),Ke(2),s(_),s(I);var L=c(I,4);fe(L,21,()=>l().value.operators,be,(u,k,R)=>{var h=Ze(),T=ye(h);he(T,()=>a(k).station=="Rover",K=>{var Z=ir(),q=i(Z),Y=i(q),oe=i(Y),W=i(oe),de=ie(()=>`w-1/8 ${(a(k).isPrimary?"text-info":"")??""}`);ne(W,{icon:wt,get class(){return a(de)}});var M=c(W,2),P=i(M,!0);s(M),s(oe);var G=c(oe,2),Q=i(G);ne(Q,{icon:Rt,class:"w-1/8"});var ve=c(Q,2),ee=i(ve,!0);s(ve),s(G);var $=c(G,2),ge=i($);ne(ge,{icon:Nt,class:"w-1/8"});var _e=c(ge,2),me=i(_e,!0);z(()=>O(me,new Date(a(k).lastId).toLocaleTimeString())),s(_e),s($),s(Y);var Ee=c(Y,2);aa(Ee,{get lastId(){return a(k).lastId},idx:R,idFunc:r}),s(q),s(Z),z(()=>{O(P,a(k).name),O(ee,a(k).callsign)}),C(K,Z)}),C(u,h)}),s(L),s(w),s(S),s(v),z(()=>{Se(f,`status ${a(d)??""} animate-ping`),Se(U,`status ${a(d)??""}`)}),C(t,v),ze()}var cr=V('<option class="p-1 text-sm"> </option>'),dr=V('<button class="btn btn-error h-full text-xl">Are you sure?</button>'),vr=(t,e)=>{g(e,!0),setTimeout(()=>g(e,!1),2e3)},ur=V('<button class="btn btn-warning h-full text-xl">Clear Data</button>'),fr=V("<button>Copy Data To Clipboard</button> <button>Export Data</button> <!>",1),gr=V('<button class="btn btn-warning h-full text-xl"> </button> <button class="btn h-full text-xl"> </button> <button class="btn btn-secondary h-full text-xl"> </button>',1),_r=V('<label id="org-select" class="fieldset-label text-base"> </label> <input type="text" class="input">',1),br=(t,e)=>g(e,0),mr=(t,e)=>g(e,1),pr=(t,e)=>g(e,2),xr=(t,e)=>g(e,3),wr=V('<input type="radio" name="theme-dropdown" class="theme-controller btn btn-sm btn-block btn-ghost hidden w-full justify-start" checked> <div class="h-svh w-full px-2 py-2"><div class="grid h-full grid-flow-col grid-rows-12 gap-0 text-2xl"><div id="header-row" class="row-span-1 grid grid-flow-col grid-cols-3 grid-rows-4 gap-x-3"><select class="bg-base-300 form-select col-span-1 row-span-4 h-full w-full rounded-md border-0 text-lg"></select> <p class="col-span-1 col-start-2 row-span-2 row-start-1 text-center text-lg"> </p> <p class="col-span-1 col-start-2 row-span-2 row-start-3 rounded-md py-0.5 text-center text-lg"> </p> <div class="col-span-1 col-start-3 row-span-4 mr-2"><button class="btn h-full w-full touch-manipulation text-lg"> </button></div></div> <div id="content-row"><!></div> <div id="settings-row"><!></div> <dialog class="modal"><div class="modal-box"><fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend text-lg">Stop/Pause Notes</legend> <!> <form method="dialog"><button class="btn btn-secondary btn-block">Close</button></form></fieldset></div></dialog></div> <div class="dock bg-base-300 max-h-1/11 pt-0.5"><button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Settings</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Home</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Data</span></button> <button class="my-auto inline-flex items-center rounded-md text-xl"><!> <span class="dock-label text-sm!">Operators</span></button></div></div>',1);function kr(t,e){Pe(e,!0);let l=xt("buggy",[]),r=xt("config",{stations:[],teams:[],operators:[],theme:"dark",handedness:"right",nextIDRoundTime:new Date().toUTCString(),startTime:new Date().toUTCString()}),n=J(X(r.value.theme)),o=J(1),d=J(void 0),v=J(0),S=J(X([])),p=ie(()=>new Date(r.value.nextIDRoundTime)),w=ie(()=>new Date(r.value.startTime)),I=J(!0),_=!1,y=J(!1),f=J(!1),U=J(!1),L=J(!1),u=J(!1),k=J(X(r.value.stations.map(D=>({name:D,buggies:[],followCarSeen:!1})))),R=X([]),h=J(X(r.value.stations.map(()=>!1))),T=J(!1),K=ie(()=>r.value.teams),Z=J(!1),q=J(!1),Y=X([]),oe=ie(()=>r.value.exportPassword!=""),W=J(X(r.value.teams.length>0?r.value.teams[0]:"N/A")),de=D=>E=>{r.value.operators=r.value.operators.map(A=>(A.station==D&&A.isPrimary&&(A.lastId=E),A))},M=()=>{let D=new Date;r.value.nextIDRoundTime=new Date(D.getTime()+10*6e4).toUTCString(),g(I,!a(I))};Ja(()=>{const D=setInterval(()=>{(new Date-a(p))/6e4>10&&(g(T,!0),g(I,!1))},3e4);return()=>clearInterval(D)});let P=D=>{let E={buggies:Ve(a(k)),team:Ve(a(W)),startTime:Ve(a(w)),notes:Ve(R),didId:!1};if(a(h).forEach(A=>{A&&(E.didId=!0)}),D){g(W,X(a(K)[(a(K).indexOf(a(W))+1)%a(K).length]));let A=Ve(l.value);A.push(E),l.value=A}g(k,X(r.value.stations.map(A=>({name:A,buggies:[],followCarSeen:!1})))),g(h,X(r.value.stations.map(()=>!1)))};async function G(){try{await navigator.clipboard.writeText(JSON.stringify(Ve(l.value),null,4)),g(f,!0),g(U,!1)}catch(D){console.error(D.message),g(f,!0),g(U,!0),setInterval(()=>{g(f,!1),g(U,!1)},1500)}}function Q(D,E={timeframe:300}){const A="tapOrPress";let j=!1,N,F,te,ce=!1;function pe(Ce){D.dispatchEvent(new CustomEvent(A,{detail:{newState:Ce}}))}function xe(Ce,Ge){clearTimeout(te),j&&E.handler(ce),j=!1,ce=!1,pe(!1)}function Te(Ce,Ge){return j&&N*N+F*F>=20&&(j=!1),!1}function se(Ce,Ge){j||(j=!0,N=Ge.clientX,F=Ge.clientY),te=setTimeout(()=>{ce=!0,pe(!0)},E.timeframe)}return ua(A,D,Te,se,xe)}let ve=D=>{D?P(!1):a(S).length>0?Y[a(S).pop()].removeLastBuggy():console.log("empty")},ee=D=>{},$=(D,E,A)=>{if(E.number=="1"||E.number=="F"){let H=new Date(E.time)-D,j=H/1e3%60;return`@${(H/1e3-j)/60}:${String(Math.ceil(j)).padStart(2,"0")}`}else{let H=A[A.indexOf(E)-1],j=new Date(E.time)-new Date(H.time),N=j/1e3%60;return`+${(j/1e3-N)/60}:${String(Math.floor(N)).padStart(2,"0")}`}},ge=async()=>{let E=[["Position","Call","Name"]].concat(r.value.operators.map(F=>[F.station+(F.isPrimary?" (Primary)":""),F.callsign,F.name])),A=[["Buggy"].concat(r.value.stations)],H=r.value.stations.map(()=>""),j=l.value.reduce((F,te)=>{let ce=[[te.startTime,"@",te.team]],pe=te.buggies[0].buggies.map(xe=>[xe.number].concat(H));return te.buggies.forEach((xe,Te)=>{new Date(xe.buggies[0].time),xe.buggies.forEach((se,Ce)=>{pe[Ce][Te+1]=$(new Date(te.startTime),se,xe.buggies)})}),F.concat(ce.concat(A).concat(pe))},[]),N={values:E.concat([[]].concat(j)),sheetId:r.value.sheetId};g(L,!0);try{(await fetch("https://buggyapp.kandasamyc.com/updateData",{method:"POST",body:JSON.stringify(N)})).ok?g(u,!1):g(u,!0)}catch{g(u,!0)}};var _e=wr(),me=ye(_e);ke(me);var Ee=c(me,2),Oe=i(Ee),Me=i(Oe),Le=i(Me);fe(Le,21,()=>a(K),be,(D,E)=>{var A=cr(),H={},j=i(A,!0);s(A),z(()=>{H!==(H=a(E))&&(A.value=(A.__value=a(E))==null?"":a(E)),O(j,a(E))}),C(D,A)}),s(Le);var De=c(Le,2);const Ne=ie(()=>a(w).getHours().toString().padStart(2,"0")??""),Qe=ie(()=>a(w).getMinutes().toString().padStart(2,"0")??"");var Xe=i(De);z(()=>O(Xe,`Start At: ${a(Ne)}:${a(Qe)}`)),s(De);var Ie=c(De,2);const $e=ie(()=>a(p).getHours().toString().padStart(2,"0")??""),He=ie(()=>a(p).getMinutes().toString().padStart(2,"0")??"");var qe=i(Ie);z(()=>O(qe,`Next ID: ${a($e)}:${a(He)}`)),s(Ie);var Je=c(Ie,2),Re=i(Je),lt=i(Re,!0);s(Re),Ot(Re,(D,E)=>Q(D,E),()=>({handler:ve,timeframe:300})),s(Je),s(Me);var Fe=c(Me,2),et=i(Fe);he(et,()=>a(o)==2,D=>{Hl(D,{get exportError(){return a(u)},set exportError(E){g(u,X(E))},get exportSubmitted(){return a(L)},set exportSubmitted(E){g(L,X(E))}})},D=>{var E=Ze(),A=ye(E);he(A,()=>a(o)==1,H=>{var j=Ze(),N=ye(j);fe(N,17,()=>a(k),be,(F,te,ce)=>{var pe=ie(()=>a(v)!=0?ce==0?6:a(k)[ce-1].buggies.length:0),xe=ie(()=>a(v)!=0?ce>0?a(k)[ce-1].followCarSeen:!0:!1),Te=ie(()=>de(r.value.stations[ce]));pt(fl(F,{get name(){return r.value.stations[ce]},get buggies(){return a(te).buggies},set buggies(se){a(te).buggies=se},get idHidden(){return a(I)},get maxBuggies(){return a(pe)},get startTime(){return a(w)},get followRecorded(){return a(te).followCarSeen},set followRecorded(se){a(te).followCarSeen=se},get prevFollowRecorded(){return a(xe)},get didID(){return a(h)[ce]},set didID(se){a(h)[ce]=se},get operatorLastIdUpdateFunc(){return a(Te)},get undoList(){return a(S)},set undoList(se){g(S,X(se))},idx:ce,get config(){return r},set config(se){r=se}}),(se,Ce)=>Y[Ce]=se,se=>Y==null?void 0:Y[se],()=>[ce])}),C(H,j)},H=>{var j=Ze(),N=ye(j);he(N,()=>a(o)==3,F=>{or(F,{config:r,buggy:l})},F=>{$l(F,{config:r,get selectedTheme(){return a(n)},set selectedTheme(te){g(n,X(te))}})},!0),C(H,j)},!0),C(D,E)}),s(Fe);var Be=c(Fe,2),ut=i(Be);he(ut,()=>a(o)==2,D=>{var E=fr(),A=ye(E);A.__click=G;var H=c(A,2);H.__click=ge;var j=c(H,2);he(j,()=>a(y),N=>{var F=dr();F.__click=()=>{g(y,!1),l.value=[]},C(N,F)},N=>{var F=ur();F.__click=[vr,y],C(N,F)}),z(()=>{Se(A,`btn ${(a(f)?a(U)?"btn-error":"btn-success":"btn-secondary")??""} h-full text-xl`),Se(H,`btn ${(a(L)?a(u)?"btn-error":"btn-success":"btn-primary")??""} h-full text-xl`),re(H,"btn-disabled",!a(oe))}),C(D,E)},D=>{var E=Ze(),A=ye(E);he(A,()=>a(o)==1,H=>{var j=gr(),N=ye(j),F=i(N);s(N),Ot(N,(Te,se)=>Q(Te,se),()=>({timeframe:300,handler:ee}));var te=c(N,2);te.__click=()=>{a(v)>0?P(!0):r.value.startTime=new Date().toUTCString(),g(v,X(a(v)==0?1:0))};var ce=i(te,!0);s(te);var pe=c(te,2);pe.__click=M;var xe=i(pe);s(pe),z(()=>{re(N,"btn-error",a(v)>0&&!a(Z)),re(N,"btn-warning",a(v)>0&&a(Z)),re(N,"btn-disabled",a(v)==0),O(F,`Record ${(a(Z)?"Pause":"Stop")??""}`),re(te,"btn-success",a(v)>0),re(te,"btn-primary",a(v)==0),re(te,"btn-disabled",a(v)>0&&!a(k)[Y.length-1].followCarSeen&&R.length==0),O(ce,a(v)>0?"Mark Clear":"Start Round"),pe.disabled=_,O(xe,`${(a(I)?"Enable":"Hide")??""} IDing`)}),Ct("tapOrPress",N,Te=>{g(Z,X(Te.detail.newState));let se={stopOrPause:!a(Z),time:new Date().toUTCString(),info:""};R.push(se),a(d).showModal()}),C(H,j)},null,!0),C(D,E)}),s(Be);var tt=c(Be,2),ft=i(tt),rt=i(ft),st=c(i(rt),2);fe(st,17,()=>R,be,(D,E)=>{var A=_r(),H=ye(A),j=i(H);z(()=>O(j,`${(a(E).stopOrPause?"Stop":"Pause")??""} at ${new Date(a(E).time).toLocaleTimeString()??""}`)),s(H);var N=c(H,2);ke(N),We(N,()=>a(E).info,F=>a(E).info=F),C(D,A)}),Ke(2),s(rt),s(ft),s(tt),pt(tt,D=>g(d,D),()=>a(d)),s(Oe);var it=c(Oe,2),Ae=i(it);Ae.__click=[br,o];var yt=i(Ae);ne(yt,{icon:Dl}),Ke(2),s(Ae);var je=c(Ae,2);je.__click=[mr,o];var b=i(je);ne(b,{icon:kl}),Ke(2),s(je);var m=c(je,2);m.__click=[pr,o];var x=i(m);ne(x,{icon:El}),Ke(2),s(m);var B=c(m,2);B.__click=[xr,o];var ue=i(B);ne(ue,{icon:wt}),Ke(2),s(B),s(it),s(Ee),z(()=>{le(me,"aria-label",a(n)),Za(me,a(n)),re(Ie,"bg-primary",a(T)),re(Re,"btn-secondary",!a(q)),re(Re,"btn-error",a(q)),O(lt,a(q)?"Clear":"Undo"),Se(Fe,`flex flex-col overflow-y-auto py-3 ${(a(o)==0||a(o)==3?"row-span-10":"row-span-8")??""}`),Se(Be,`${(a(o)==0||a(o)==3?"hidden":"row-span-2")??""} grid grid-flow-col grid-cols-3 gap-x-3`),re(Ae,"dock-active",a(o)==0),re(je,"dock-active",a(o)==1),re(m,"dock-active",a(o)==2),re(B,"dock-active",a(o)==3)}),at(Le,()=>a(W),D=>g(W,D)),Ct("tapOrPress",Re,D=>{g(q,X(D.detail.newState))}),C(t,_e),ze()}vt(["click"]);export{kr as component};
